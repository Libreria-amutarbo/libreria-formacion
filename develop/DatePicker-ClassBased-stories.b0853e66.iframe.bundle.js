(self.webpackChunk_dcx_ng_components_source=self.webpackChunk_dcx_ng_components_source||[]).push([[399],{"./libs/dcx-ng-lib/src/lib/core/interfaces/input.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var DcxInputType;__webpack_require__.d(__webpack_exports__,{Y:()=>DcxInputType}),function(DcxInputType){DcxInputType.TEXT="text",DcxInputType.NUMBER="number",DcxInputType.EMAIL="email",DcxInputType.PASSWORD="password",DcxInputType.SEARCH="search",DcxInputType.TEL="tel",DcxInputType.URL="url"}(DcxInputType||(DcxInputType={}))},"./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-datePicker/dcx-ng-datePicker.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  font-family: var(--font-family-primary);\n}\n\n.dcx-datepicker {\n  position: relative;\n  width: 100%;\n  font-family: var(--font-family-primary);\n  font-size: var(--font-size-body);\n  line-height: var(--line-height-normal);\n  color: var(--text-title);\n  background: var(--background-default);\n  border: 1.5px solid var(--color-primary-500);\n  border-radius: var(--radius-md);\n  box-shadow: var(--shadow-1);\n  padding: var(--spacing-xs);\n}\n.dcx-datepicker__months-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: var(--spacing-xs);\n  margin-bottom: var(--spacing-s);\n}\n.dcx-datepicker__years-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: var(--spacing-xs);\n  margin-bottom: var(--spacing-s);\n}\n.dcx-datepicker__input-wrapper {\n  display: flex;\n  align-items: center;\n  border-radius: var(--radius-md);\n  border: none;\n  background: transparent;\n  box-shadow: none;\n  padding: 0;\n}\n.dcx-datepicker__input-wrapper:hover:not(.dcx-datepicker__input-wrapper--disabled) {\n  box-shadow: none;\n}\n.dcx-datepicker__input-wrapper--disabled {\n  background: #e1e3e6;\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.dcx-datepicker__input {\n  flex: 1;\n  border: none;\n  background: transparent;\n  color: var(--text-title);\n  padding: var(--spacing-xs) var(--spacing-m);\n  font-size: var(--font-size-body);\n  line-height: var(--line-height-normal);\n}\n.dcx-datepicker__input:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n.dcx-datepicker__clear {\n  background: none;\n  border: none;\n  color: var(--text-link);\n  cursor: pointer;\n  padding: var(--spacing-xs) var(--spacing-s);\n}\n.dcx-datepicker__clear:hover {\n  text-decoration: underline;\n  color: var(--text-error);\n}\n.dcx-datepicker__calendar {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  min-width: 260px;\n  background: var(--background-default);\n  border: 1.5px solid var(--color-primary-500);\n  border-radius: 0 0 var(--radius-md) var(--radius-md);\n  box-shadow: var(--shadow-3);\n  padding: var(--spacing-m);\n  z-index: 2000;\n  display: flex;\n  flex-direction: column;\n}\n.dcx-datepicker__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-s);\n  color: var(--text-title);\n  font-size: var(--font-size-body-large);\n  font-weight: var(--weight-semibold);\n}\n.dcx-datepicker__nav-button {\n  background: none;\n  border: none;\n  color: var(--text-link);\n  cursor: pointer;\n  border-radius: var(--radius-sm);\n  padding: var(--spacing-xs) var(--spacing-s);\n  font-size: var(--font-size-body);\n}\n.dcx-datepicker__weekdays, .dcx-datepicker__days {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: var(--spacing-xs);\n  margin-bottom: var(--spacing-s);\n}\n.dcx-datepicker__footer {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: var(--spacing-xs);\n}\n.dcx-datepicker__today-btn {\n  font-size: var(--font-size-body);\n  color: var(--color-primary-500);\n  background: var(--background-default);\n  padding: var(--spacing-xs) var(--spacing-s);\n  cursor: pointer;\n  transition: background 0.2s;\n}\n.dcx-datepicker__weekday {\n  text-align: center;\n  color: var(--text-body);\n  margin-bottom: var(--spacing-xs);\n  font-size: var(--font-size-caption);\n  line-height: var(--line-height-normal);\n  font-weight: var(--weight-semibold);\n}\n.dcx-datepicker__day {\n  aspect-ratio: 1;\n  border: none;\n  background: none;\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n  font-family: var(--font-primary);\n  color: var(--text-title);\n  font-size: var(--font-size-body);\n  line-height: var(--line-height-normal);\n  letter-spacing: var(--letter-spacing-normal);\n  transition: background 0.2s;\n}\n.dcx-datepicker__day--other-month {\n  color: var(--text-disabled);\n}\n.dcx-datepicker__day--today {\n  font-weight: var(--weight-bold);\n  color: var(--color-primary-500);\n}\n.dcx-datepicker__day--selected {\n  background: var(--color-primary-500);\n  color: var(--background-default);\n  font-weight: var(--weight-semibold);\n}\n.dcx-datepicker__day--disabled {\n  color: var(--text-disabled-dark);\n  cursor: not-allowed;\n  opacity: 0.5;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-input/dcx-ng-input.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"p {\n  font-size: var(--font-size-body-large);\n}\n\n.input-container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n  margin-bottom: var(--spacing-m);\n}\n.input-container.no-margin {\n  margin-bottom: 0;\n}\n\n.dcx-ng-input {\n  box-sizing: content-box;\n  --input-height: var(--spacing-s);\n  --input-width: var(--spacing-m);\n  --input-font-size: var(--font-size-body);\n  --input-padding-vertical: var(--spacing-inset-xs);\n  --input-padding-horizontal: var(--spacing-inset-m);\n  border-radius: var(--border-radius-sm);\n  background-color: var(--color-background);\n  border: 2px solid var(--color-primary-light);\n  color: var(--color-text-primary);\n  height: var(--input-height);\n  width: calc(var(--input-width) * 5);\n  font-size: var(--input-font-size);\n  padding: var(--input-padding-vertical) var(--input-padding-horizontal);\n}\n.dcx-ng-input--inline {\n  box-sizing: border-box;\n  width: 100%;\n}\n.dcx-ng-input--search {\n  box-sizing: border-box;\n  width: 100%;\n  flex: 1;\n  padding-right: calc(var(--spacing-inset-m, 12px) * 5);\n  height: 44px;\n}\n.dcx-ng-input-size--s {\n  --input-height: var(--spacing-xs);\n  --input-width: var(--spacing-s);\n  --input-font-size: var(--font-size-body-small);\n  --input-padding-vertical: var(--spacing-inset-xs);\n  --input-padding-horizontal: var(--spacing-inset-s);\n}\n.dcx-ng-input-size--s.dcx-ng-input--search {\n  padding-right: calc(var(--spacing-inset-s, 8px) * 5);\n  height: 38px;\n}\n.dcx-ng-input-size--m {\n  --input-height: var(--spacing-xs);\n  --input-width: var(--spacing-m);\n  --input-font-size: var(--font-size-body);\n  --input-padding-vertical: var(--spacing-inset-xs);\n  --input-padding-horizontal: var(--spacing-inset-m);\n}\n.dcx-ng-input-size--m.dcx-ng-input--search {\n  padding-right: calc(var(--spacing-inset-m, 12px) * 5);\n  height: 44px;\n}\n.dcx-ng-input-size--l {\n  --input-height: var(--spacing-s);\n  --input-width: var(--spacing-l);\n  --input-font-size: var(--font-size-body);\n  --input-padding-vertical: var(--spacing-inset-s);\n  --input-padding-horizontal: var(--spacing-inset-m);\n}\n.dcx-ng-input-size--l.dcx-ng-input--search {\n  padding-right: calc(var(--spacing-inset-l, 16px) * 5);\n  height: 50px;\n}\n.dcx-ng-input-size--xl {\n  --input-height: var(--spacing-s);\n  --input-width: var(--spacing-xl);\n  --input-font-size: var(--font-size-body-large);\n  --input-padding-vertical: var(--spacing-inset-s);\n  --input-padding-horizontal: var(--spacing-inset-m);\n}\n.dcx-ng-input-size--auto {\n  --input-height: var(--spacing-s);\n  --input-font-size: var(--font-size-body-large);\n  --input-padding-vertical: var(--spacing-inset-s);\n  --input-padding-horizontal: var(--spacing-inset-m);\n  width: calc(100% - var(--input-padding-horizontal) * 2);\n}\n.dcx-ng-input--no-styles {\n  background-color: transparent;\n  border: 2px solid black;\n  color: black;\n}\n.dcx-ng-input:focus {\n  border: 2px solid var(--color-primary);\n  background-color: var(--color-gray-lighter);\n  outline: none;\n}\n\n.required {\n  border: 2px solid var(--color-error);\n}\n\n.required-icon {\n  color: var(--color-error);\n  font-size: var(--font-size-body-small);\n}\n\n.visually-hidden {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.disabled {\n  background-color: var(--color-gray-light);\n  border: 2px solid var(--color-primary-light);\n  color: var(--color-text-disabled);\n  pointer-events: none;\n}\n\n.invalid {\n  border: 2px solid var(--color-error);\n  color: var(--color-error);\n}\n\n.invalid-message {\n  width: auto;\n  color: var(--color-error);\n  font-size: var(--font-size-body-small);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-input/dcx-ng-input.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>DcxNgInputComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var dcx_ng_input_componentngResource=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-input/dcx-ng-input.component.scss?ngResource"),dcx_ng_input_componentngResource_default=__webpack_require__.n(dcx_ng_input_componentngResource),common_module=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs"),debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),takeUntil=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),input=__webpack_require__("./libs/dcx-ng-lib/src/lib/core/interfaces/input.ts");let DcxNgInputComponent=class DcxNgInputComponent{readonly=!1;type=input.Y.TEXT;placeholder=null;size="m";disabled=!1;required=!1;label=null;errorMessages=[];noMargin=!1;inline=!1;search=!1;set value(val){this.inputControl&&this.inputControl.setValue(val,{emitEvent:!1})}valueChange=new debug_node.bkB;inputControl=new fesm2022_forms.MJ("");isFocused=!1;inputId;destroy$=new Subject.B;constructor(){this.inputId=`dcx-input-${Math.random().toString(36).substr(2,9)}`}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.setupFormControl(),this.setupValueChanges()}setupFormControl(){const validators=[];this.type===input.Y.EMAIL&&validators.push(fesm2022_forms.k0.email),this.type===input.Y.NUMBER&&validators.push(fesm2022_forms.k0.pattern(/^-?(?:\d+(?:\.\d+)?|\.\d+)$/)),this.required&&validators.push(fesm2022_forms.k0.required),this.inputControl=new fesm2022_forms.MJ("",validators),this.disabled&&this.inputControl.disable()}setupValueChanges(){this.inputControl.valueChanges.pipe((0,takeUntil.Q)(this.destroy$)).subscribe(value=>{this.valueChange.emit(value)})}ngOnChanges(changes){(changes.required||changes.type||changes.disabled)&&this.setupFormControl()}getErrorMessage(){if(!this.inputControl.errors)return null;const value=this.inputControl.value;if(value&&""!==value.trim()){if(this.inputControl.hasError("pattern")&&this.type===input.Y.NUMBER)return this.errorMessages.find(msg=>"pattern"===msg.type)?.message||"Formato numérico inválido";if(this.inputControl.hasError("email"))return this.errorMessages.find(msg=>"email"===msg.type)?.message||"Formato correo inválido"}return this.inputControl.hasError("required")?this.errorMessages.find(msg=>"required"===msg.type)?.message||"Campo obligatorio":null}static ctorParameters=()=>[];static propDecorators={readonly:[{type:debug_node.pde}],type:[{type:debug_node.pde}],placeholder:[{type:debug_node.pde}],size:[{type:debug_node.pde}],disabled:[{type:debug_node.pde}],required:[{type:debug_node.pde}],label:[{type:debug_node.pde}],errorMessages:[{type:debug_node.pde}],noMargin:[{type:debug_node.pde}],inline:[{type:debug_node.pde}],search:[{type:debug_node.pde}],value:[{type:debug_node.pde}],valueChange:[{type:debug_node.k7i}]}};DcxNgInputComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"dcx-ng-input",standalone:!0,imports:[common_module.MD,fesm2022_forms.X1],template:'@if (search) {\n  <input\n    [id]="inputId"\n    class="dcx-ng-input dcx-ng-input--search"\n    [class.disabled]="disabled"\n    [type]="type"\n    [placeholder]="placeholder"\n    [formControl]="inputControl"\n    [ngClass]="\'dcx-ng-input-size--\' + size"\n    [class.required]="inputControl.touched && !isFocused && required && !inputControl.value"\n    [class.invalid]="inputControl.invalid && inputControl.touched"\n    [attr.aria-required]="required"\n    [attr.aria-invalid]="inputControl.invalid && inputControl.touched"\n    [attr.aria-label]="label || placeholder"\n  />\n} @else if (inline) {\n  <input\n    [id]="inputId"\n    class="dcx-ng-input dcx-ng-input--inline"\n    [class.disabled]="disabled"\n    [type]="type"\n    [placeholder]="placeholder"\n    [formControl]="inputControl"\n    [ngClass]="\'dcx-ng-input-size--\' + size"\n    [class.required]="inputControl.touched && !isFocused && required && !inputControl.value"\n    [class.invalid]="inputControl.invalid && inputControl.touched"\n    [attr.aria-required]="required"\n    [attr.aria-invalid]="inputControl.invalid && inputControl.touched"\n    [attr.aria-label]="label || placeholder"\n  />\n} @else {\n  <div class="input-container" [class.no-margin]="noMargin">\n    @if (label) {\n      <label [for]="inputId" class="input-label">\n        {{ label }}\n        @if (required) {\n          <span class="required-icon" aria-hidden="true">*</span>\n          <span class="visually-hidden">(required)</span>\n        }\n      </label>\n    }\n\n    <input\n      [id]="inputId"\n      class="dcx-ng-input"\n      [class.disabled]="disabled"\n      [type]="type"\n      [placeholder]="placeholder"\n      [formControl]="inputControl"\n      [ngClass]="\'dcx-ng-input-size--\' + size"\n      [class.required]="inputControl.touched && !isFocused && required && !inputControl.value"\n      [class.invalid]="inputControl.invalid && inputControl.touched"\n      [attr.aria-required]="required"\n      [attr.aria-invalid]="inputControl.invalid && inputControl.touched"\n      [attr.aria-label]="label || placeholder"\n    />\n\n    @if (inputControl.invalid && inputControl.touched) {\n      <span class="invalid-message">{{ getErrorMessage() }}</span>\n    }\n  </div>\n}\n',styles:[dcx_ng_input_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],DcxNgInputComponent)},"./libs/dcx-ng-lib/src/lib/stories/DatePicker/ClassBased.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Disabled:()=>Disabled,WithMinAndMaxDate:()=>WithMinAndMaxDate,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ClassBased_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.js"),debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs");var dcx_ng_datePicker_componentngResource=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-datePicker/dcx-ng-datePicker.component.scss?ngResource"),dcx_ng_datePicker_componentngResource_default=__webpack_require__.n(dcx_ng_datePicker_componentngResource),input=__webpack_require__("./libs/dcx-ng-lib/src/lib/core/interfaces/input.ts"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),resource=__webpack_require__("./node_modules/@angular/core/fesm2022/resource.mjs"),dcx_ng_button_component=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-button/dcx-ng-button.component.ts"),dcx_ng_input_component=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-input/dcx-ng-input.component.ts"),common_module=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs");let DcxNgDatePickerComponent=class DcxNgDatePickerComponent{DcxInputType=input.Y;constructor(){document.addEventListener("mousedown",this._onDocumentClick.bind(this))}selectedDate=(0,core.input)(null);minDate=(0,core.input)(null);maxDate=(0,core.input)(null);disabled=(0,core.input)(!1);placeholder=(0,core.input)("Select date");selectedDateChange=(0,core.output)();weekDays=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"];_currentMonth=(0,root_effect_scheduler.vPA)(null);_isOpen=(0,root_effect_scheduler.vPA)(!1);_mode=(0,root_effect_scheduler.vPA)("calendar");_yearPageStart=(0,root_effect_scheduler.vPA)(null);_onDocumentClick(event){if(!this.isOpen())return;const calendar=document.querySelector(".dcx-datepicker__calendar"),inputWrapper=document.querySelector(".dcx-datepicker__input-wrapper");if(!calendar||!inputWrapper)return;const target=event.target;calendar.contains(target)||inputWrapper.contains(target)||this.closeCalendar()}currentMonth=(0,resource.EW)(()=>{const manualMonth=this._currentMonth();if(manualMonth)return manualMonth;const selected=this.selectedDate();return selected?new Date(selected):new Date});isOpen=(0,resource.EW)(()=>this._isOpen());monthName=(0,resource.EW)(()=>this.currentMonth().toLocaleDateString("es-ES",{month:"long"}));yearNumber=(0,resource.EW)(()=>this.currentMonth().getFullYear());isMonthMode=(0,resource.EW)(()=>"month"===this._mode());isYearMode=(0,resource.EW)(()=>"year"===this._mode());isCalendarMode=(0,resource.EW)(()=>"calendar"===this._mode());monthsList=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];yearsList=(0,resource.EW)(()=>{const currentYear=this.currentMonth().getFullYear(),start=this._yearPageStart()??currentYear-currentYear%12;return Array.from({length:12},(_,i)=>start+i)});formattedSelectedDate=(0,resource.EW)(()=>{const date=this.selectedDate();return date?date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):this.placeholder()});calendarDays=(0,resource.EW)(()=>{const currentMonth=this.currentMonth(),year=currentMonth.getFullYear(),month=currentMonth.getMonth(),firstDay=new Date(year,month,1),startDate=new Date(firstDay);startDate.setDate(startDate.getDate()-firstDay.getDay());const today=new Date;today.setHours(0,0,0,0);const selected=this.selectedDate(),selectedTime=selected?new Date(selected).setHours(0,0,0,0):null;return Array.from({length:42},(_,i)=>{const date=new Date(startDate);date.setDate(date.getDate()+i);const dateTime=date.getTime();return{date,isCurrentMonth:date.getMonth()===month,isToday:dateTime===today.getTime(),isSelected:null!==selectedTime&&dateTime===selectedTime,isDisabled:this.isDateDisabled(date)}})});toggleCalendar(){this.disabled()||(this._isOpen.set(!this._isOpen()),this._isOpen()||(this._currentMonth.set(null),this._mode.set("calendar")))}closeCalendar(){this._isOpen.set(!1),this._currentMonth.set(null),this._mode.set("calendar")}previousMonth(){if(this.isMonthMode())return;if(this.isYearMode())return void this._yearPageStart.set((this._yearPageStart()??this.currentMonth().getFullYear())-12);const current=this.currentMonth(),newDate=new Date(current);newDate.setMonth(newDate.getMonth()-1),this._currentMonth.set(newDate)}nextMonth(){if(this.isMonthMode())return;if(this.isYearMode())return void this._yearPageStart.set((this._yearPageStart()??this.currentMonth().getFullYear())+12);const current=this.currentMonth(),newDate=new Date(current);newDate.setMonth(newDate.getMonth()+1),this._currentMonth.set(newDate)}openMonthSelector(){this._mode.set("month")}openYearSelector(){this._mode.set("year");const year=this.currentMonth().getFullYear();this._yearPageStart.set(year-year%12)}selectMonth(index){const current=this.currentMonth(),newDate=new Date(current);newDate.setMonth(index),this._currentMonth.set(newDate),this._mode.set("calendar")}selectYear(year){const current=this.currentMonth(),newDate=new Date(current);newDate.setFullYear(year),this._currentMonth.set(newDate),this._mode.set("calendar")}selectDate(day){day.isDisabled||this.disabled()||(this.selectedDateChange.emit(day.date),this.closeCalendar())}clearDate(event){this.disabled()||this.selectedDateChange.emit(null)}isDateDisabled(date){const min=this.minDate(),max=this.maxDate();return!!(min&&date<min)||!!(max&&date>max)}goToToday(){const today=new Date;today.setHours(0,0,0,0),this._currentMonth.set(new Date(today)),this.isDateDisabled(today)||(this.selectedDateChange.emit(today),this.closeCalendar())}static ctorParameters=()=>[];static propDecorators={selectedDate:[{type:debug_node.pde,args:[{isSignal:!0,alias:"selectedDate",required:!1,transform:void 0}]}],minDate:[{type:debug_node.pde,args:[{isSignal:!0,alias:"minDate",required:!1,transform:void 0}]}],maxDate:[{type:debug_node.pde,args:[{isSignal:!0,alias:"maxDate",required:!1,transform:void 0}]}],disabled:[{type:debug_node.pde,args:[{isSignal:!0,alias:"disabled",required:!1,transform:void 0}]}],placeholder:[{type:debug_node.pde,args:[{isSignal:!0,alias:"placeholder",required:!1,transform:void 0}]}],selectedDateChange:[{type:debug_node.k7i,args:["selectedDateChange"]}]}};DcxNgDatePickerComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"dcx-ng-date-picker",standalone:!0,imports:[dcx_ng_button_component.q,common_module.MD,dcx_ng_input_component.o],template:'<div class="dcx-datepicker">\n  <div\n    class="dcx-datepicker__input-wrapper"\n    [class.dcx-datepicker__input-wrapper--disabled]="disabled()"\n    [class.dcx-datepicker__input-wrapper--open]="isOpen()"\n    (click)="toggleCalendar()"\n    tabindex="0"\n    role="button"\n  >\n    <dcx-ng-input\n      class="dcx-datepicker__input"\n      [label]="\'\'"\n      [placeholder]="placeholder() || \'dd/mm/yyyy\'"\n      [disabled]="disabled()"\n      [required]="false"\n      [type]="DcxInputType.TEXT"\n      [value]="formattedSelectedDate()"\n      [readonly]="true"\n      (valueChange)="null"\n    ></dcx-ng-input>\n\n    @if (selectedDate() && !disabled()) {\n      <dcx-ng-button\n        class="dcx-datepicker__clear"\n        [icon]="true"\n        iconName="x-lg"\n        ariaLabel="Limpiar fecha"\n        (buttonClick)="clearDate($event)"\n      ></dcx-ng-button>\n    }\n  </div>\n\n  @if (isOpen()) {\n    <div class="dcx-datepicker__calendar">\n      <div class="dcx-datepicker__header">\n        <dcx-ng-button\n          class="dcx-datepicker__nav-button"\n          [icon]="true"\n          iconPosition="left"\n          iconName="arrow-left"\n          ariaLabel="Anterior"\n          (buttonClick)="previousMonth()"\n        ></dcx-ng-button>\n\n        @if (isCalendarMode()) {\n          <span\n            class="dcx-datepicker__month-name"\n            (click)="openMonthSelector()"\n            style="cursor:pointer;"\n            tabindex="0"\n            role="button"\n          >\n            {{ monthName() }}\n          </span>\n          <span\n            class="dcx-datepicker__month-name"\n            (click)="openYearSelector()"\n            style="cursor:pointer; margin-left: 8px;"\n            tabindex="0"\n            role="button"\n          >\n            {{ yearNumber() }}\n          </span>\n        }\n        @if (isMonthMode()) {\n          <span class="dcx-datepicker__month-name">Selecciona mes</span>\n        }\n        @if (isYearMode()) {\n          <span class="dcx-datepicker__month-name">Selecciona año</span>\n        }\n\n        <dcx-ng-button\n          class="dcx-datepicker__nav-button"\n          [icon]="true"\n          iconPosition="right"\n          iconName="arrow-right"\n          ariaLabel="Siguiente"\n          (buttonClick)="nextMonth()"\n        ></dcx-ng-button>\n      </div>\n\n      @if (isCalendarMode()) {\n        <div class="dcx-datepicker__weekdays">\n          @for (day of weekDays; track day) {\n            <span class="dcx-datepicker__weekday">{{ day }}</span>\n          }\n        </div>\n        <div class="dcx-datepicker__days">\n          @for (day of calendarDays(); track day.date.getTime()) {\n            <dcx-ng-button\n              class="dcx-datepicker__day"\n              variant="secondary"\n              [ngClass]="{\n                                    \'dcx-datepicker__day--other-month\': !day.isCurrentMonth,\n                                    \'dcx-datepicker__day--today\': day.isToday,\n                                    \'dcx-datepicker__day--selected\': day.isSelected,\n                                    \'dcx-datepicker__day--disabled\': day.isDisabled\n                                }"\n              [label]="day.date.getDate().toString()"\n              [disabled]="day.isDisabled"\n              (buttonClick)="selectDate(day)"\n            >\n            </dcx-ng-button>\n          }\n        </div>\n      }\n      @if (isMonthMode()) {\n        <div class="dcx-datepicker__months-grid">\n          @for (month of monthsList; track month) {\n            <dcx-ng-button\n              class="dcx-datepicker__day"\n              [label]="month.toString()"\n              (buttonClick)="selectMonth($index)"\n            >\n            </dcx-ng-button>\n          }\n        </div>\n      }\n      @if (isYearMode()) {\n        <div class="dcx-datepicker__years-grid">\n          @for (year of yearsList(); track year) {\n            <dcx-ng-button\n              class="dcx-datepicker__day"\n              [label]="year.toString()"\n              (buttonClick)="selectYear(year)"\n            >\n            </dcx-ng-button>\n          }\n        </div>\n      }\n      <div class="dcx-datepicker__footer">\n        <dcx-ng-button\n          class="dcx-datepicker__today-btn"\n          variant="secondary"\n          iconStart="calendar"\n          ariaLabel="Ir a hoy"\n          (buttonClick)="goToToday()"\n        >\n          Hoy\n        </dcx-ng-button>\n      </div>\n    </div>\n  }\n</div>\n',changeDetection:debug_node.Ngq.OnPush,styles:[dcx_ng_datePicker_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],DcxNgDatePickerComponent);let StorybookDatePickerWrapperComponent=class StorybookDatePickerWrapperComponent{_selectedDate=null;get selectedDate(){return this._selectedDate}set selectedDate(value){this._selectedDate=parseDateInput(value)}_minDate=null;get minDate(){return this._minDate}set minDate(value){this._minDate=parseDateInput(value)}_maxDate=null;get maxDate(){return this._maxDate}set maxDate(value){this._maxDate=parseDateInput(value)}disabled=!1;placeholder="Selecciona una fecha";selectedDateChange=new debug_node.bkB;onSelectedDateChange(date){this.selectedDate=date,this.selectedDateChange.emit(date)}get formattedSelectedDate(){return this.selectedDate?this.selectedDate.toLocaleDateString("es-ES"):"ninguna"}static propDecorators={selectedDate:[{type:debug_node.pde}],minDate:[{type:debug_node.pde}],maxDate:[{type:debug_node.pde}],disabled:[{type:debug_node.pde}],placeholder:[{type:debug_node.pde}],selectedDateChange:[{type:debug_node.k7i}]}};function parseDateInput(value){if(!value)return null;if(value instanceof Date)return isNaN(value.getTime())?null:value;if("string"==typeof value){const ddmmyyyy=value.match(/^\s*(\d{1,2})[/-](\d{1,2})[/-](\d{4})\s*$/);if(ddmmyyyy){const day=parseInt(ddmmyyyy[1],10),month=parseInt(ddmmyyyy[2],10)-1,year=parseInt(ddmmyyyy[3],10),date=new Date(year,month,day);return date.setHours(0,0,0,0),isNaN(date.getTime())?null:date}const yyyymmdd=value.match(/^\s*(\d{4})-(\d{1,2})-(\d{1,2})\s*$/);if(yyyymmdd){const year=parseInt(yyyymmdd[1],10),month=parseInt(yyyymmdd[2],10)-1,day=parseInt(yyyymmdd[3],10),date=new Date(year,month,day);return date.setHours(0,0,0,0),isNaN(date.getTime())?null:date}const date=new Date(value);return date.setHours(0,0,0,0),isNaN(date.getTime())?null:date}return null}StorybookDatePickerWrapperComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"dcx-ng-storybook-datepicker-wrapper",standalone:!0,imports:[DcxNgDatePickerComponent,common_module.MD],template:'\n    <dcx-ng-date-picker\n      [selectedDate]="selectedDate"\n      (selectedDateChange)="onSelectedDateChange($event)"\n      [minDate]="minDate"\n      [maxDate]="maxDate"\n      [disabled]="disabled"\n      [placeholder]="placeholder">\n    </dcx-ng-date-picker>\n    <div style="margin-top: 1rem;">\n      <strong>Fecha seleccionada:</strong>\n      <span>{{ formattedSelectedDate }}</span>\n    </div>\n  '})],StorybookDatePickerWrapperComponent);const ClassBased_stories={title:"DCXLibrary/DatePicker/ClassBased",component:StorybookDatePickerWrapperComponent,tags:["autodocs"],decorators:[(0,dist.Iz)({imports:[StorybookDatePickerWrapperComponent]})],parameters:{layout:"centered",docs:{description:{component:"\nDatePicker con estilos personalizados mediante clases CSS. \nIncluye calendario popup, navegación por meses, validación de fechas min/max.\n\n### Características\n- Calendario interactivo con 42 días (6 semanas)\n- Formato español (dd/mm/yyyy)\n- Validación de fechas mínimas y máximas\n- Estado disabled\n- Botón para limpiar selección\n        "}}},argTypes:{selectedDate:{name:"selectedDate",control:{type:"text",placeholder:"dd/mm/yyyy"},description:"Fecha seleccionada (dd/mm/yyyy)",table:{category:"Atributos",type:{summary:"Date | null"},defaultValue:{summary:"null"}}},minDate:{name:"minDate",control:{type:"text",placeholder:"dd/mm/yyyy"},description:"Fecha mínima seleccionable (dd/mm/yyyy)",table:{category:"Atributos",type:{summary:"Date | null"},defaultValue:{summary:"null"}}},maxDate:{name:"maxDate",control:{type:"text",placeholder:"dd/mm/yyyy"},description:"Fecha máxima seleccionable (dd/mm/yyyy)",table:{category:"Atributos",type:{summary:"Date | null"},defaultValue:{summary:"null"}}},placeholder:{name:"placeholder",control:"text",description:"Texto del placeholder",table:{category:"Atributos",type:{summary:"string"},defaultValue:{summary:"Selecciona una fecha"}}},disabled:{name:"disabled",control:"boolean",description:"Estado deshabilitado",table:{category:"Atributos",type:{summary:"boolean"},defaultValue:{summary:"false"}}},selectedDateChange:{name:"selectedDateChange",action:"selectedDateChange",description:"Se emite al seleccionar una fecha o limpiar",table:{category:"Eventos",type:{summary:"(date: Date | null) => void"},defaultValue:{summary:"-"}}}}},Default={args:{selectedDate:null,placeholder:"dd/mm/yyyy",disabled:!1,minDate:null,maxDate:null}},Disabled={args:{selectedDate:null,placeholder:"Selecciona una fecha",disabled:!0,minDate:null,maxDate:null}},WithMinAndMaxDate={args:{selectedDate:null,placeholder:"Selecciona una fecha",disabled:!1,minDate:new Date(2025,9,1),maxDate:new Date(2025,10,31)}},__namedExportsOrder=["Default","Disabled","WithMinAndMaxDate"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    selectedDate: null,\n    placeholder: 'dd/mm/yyyy',\n    disabled: false,\n    minDate: null,\n    maxDate: null\n  }\n}",...Default.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"{\n  args: {\n    selectedDate: null,\n    placeholder: 'Selecciona una fecha',\n    disabled: true,\n    minDate: null,\n    maxDate: null\n  }\n}",...Disabled.parameters?.docs?.source}}},WithMinAndMaxDate.parameters={...WithMinAndMaxDate.parameters,docs:{...WithMinAndMaxDate.parameters?.docs,source:{originalSource:"{\n  args: {\n    selectedDate: null,\n    placeholder: 'Selecciona una fecha',\n    disabled: false,\n    minDate: new Date(2025, 9, 1),\n    maxDate: new Date(2025, 10, 31)\n  }\n}",...WithMinAndMaxDate.parameters?.docs?.source}}}},"./node_modules/@storybook/angular/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Iz:()=>moduleMetadata});__webpack_require__("./node_modules/@storybook/angular/dist/_browser-chunks/chunk-6CHBWP5J.js"),__webpack_require__("storybook/preview-api");var moduleMetadata=metadata=>storyFn=>{let story=storyFn(),storyMetadata=story.moduleMetadata||{};return metadata=metadata||{},{...story,moduleMetadata:{declarations:[...metadata.declarations||[],...storyMetadata.declarations||[]],entryComponents:[...metadata.entryComponents||[],...storyMetadata.entryComponents||[]],imports:[...metadata.imports||[],...storyMetadata.imports||[]],schemas:[...metadata.schemas||[],...storyMetadata.schemas||[]],providers:[...metadata.providers||[],...storyMetadata.providers||[]]}}};__webpack_require__("./node_modules/@storybook/angular/dist/_browser-chunks/chunk-DAHG2CDK.js")},"./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>takeUntil});var _util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_noop__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/noop.js");function takeUntil(notifier){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)(function(source,subscriber){(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__.Tg)(notifier).subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,function(){return subscriber.complete()},_util_noop__WEBPACK_IMPORTED_MODULE_3__.l)),!subscriber.closed&&source.subscribe(subscriber)})}}}]);