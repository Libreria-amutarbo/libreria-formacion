(self.webpackChunk_dcx_ng_components_source=self.webpackChunk_dcx_ng_components_source||[]).push([[302],{"./libs/dcx-ng-lib/src/lib/core/mock/generic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DR:()=>SIZE_LIST,F4:()=>DISABLED,FB:()=>ALIGN_LIST,Il:()=>ICON_SPACING_DEFAULT,Qg:()=>SIZE_DEFAULT,SO:()=>SPACING_DEFAULT,T$:()=>LAYOUT_DEFAULT,Tg:()=>SPACING_LIST,YF:()=>ALIGN_DEFAULT,d5:()=>ICON_SPACING_LIST,dJ:()=>POSITION_LIST,eW:()=>ERRORICON,mA:()=>LAYOUT_LIST});const LAYOUT_LIST=["vertical","horizontal"],ALIGN_LIST=["start","center","end"],SIZE_LIST=["s","m","l","xl","auto"],POSITION_LIST=["top","bottom","left","right"],ICON_SPACING_LIST=["none","compact","spacious"],LAYOUT_DEFAULT="vertical",ALIGN_DEFAULT="center",SIZE_DEFAULT="s",SPACING_DEFAULT="xs",SPACING_LIST=["xs","s","m","l","xl"],ICON_SPACING_DEFAULT="none",DISABLED=!1,ERRORICON="info-circle"},"./libs/dcx-ng-lib/src/lib/core/mock/select.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$X:()=>SEARCHABLE,Kx:()=>PLACEHOLDER,W:()=>ISINVALID,a$:()=>VALUEINPUT,d_:()=>LABEL,eL:()=>CLEARABLE,lw:()=>OPTIONS,mw:()=>REQUIRED,uo:()=>ERRORMESSAGE});var _dcx_ng_components_dcx_ng_lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/dcx-ng-lib/src/lib/core/mock/generic.ts");const LABEL="Select",OPTIONS=[{value:"one",label:"Uno"},{value:"two",label:"Dos"},{value:"three",label:"Tres"}],PLACEHOLDER="Seleccione una opción",SEARCHABLE=!1,CLEARABLE=!1,REQUIRED=!1,ISINVALID=!1,ERRORMESSAGE="",VALUEINPUT=null;_dcx_ng_components_dcx_ng_lib__WEBPACK_IMPORTED_MODULE_0__.F4,_dcx_ng_components_dcx_ng_lib__WEBPACK_IMPORTED_MODULE_0__.SO},"./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-full-table/components/dcx-ng-table-paginator/dcx-ng-table-paginator.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n\n.paginator {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  row-gap: 0.5rem;\n  column-gap: 1rem;\n  margin-top: 0.75rem;\n  padding: 0.75rem 0.5rem;\n  border-top: 1px solid var(--table-divider, #e3e3e3);\n  font-size: 0.9rem;\n}\n.paginator-left {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n.paginator-left > * + * {\n  margin-left: 0.25rem;\n}\n.paginator-right {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.paginator-nav {\n  padding-inline: 0.5rem;\n  color: #64748b;\n}\n.paginator-nav dcx-ng-icon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n.paginator-page {\n  color: #64748b;\n}\n.paginator-page--active {\n  background-color: var(--primary, #2563eb) !important;\n  border-color: var(--primary, #2563eb) !important;\n  color: #ffffff !important;\n  font-weight: 600 !important;\n  transform: translateY(-1px);\n}\n.paginator-page--active:hover:not(:disabled) {\n  background-color: var(--primary, #1d4ed8);\n  border-color: var(--primary, #1d4ed8);\n}\n.paginator-page:hover:not(.paginator-page--active):not(:disabled) {\n  background-color: #f4f4f5;\n}\n.paginator button {\n  border: 1px solid var(--table-border, #d0d0d0);\n  background: #ffffff;\n  color: #495057;\n  min-width: 1.75rem;\n  height: 1.75rem;\n  padding: 0 0.5rem;\n  border-radius: 6px;\n  font: inherit;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 1;\n  transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease, box-shadow 0.15s ease, transform 0.08s ease;\n}\n.paginator button:hover:not(:disabled) {\n  background-color: #f4f4f5;\n  border-color: #cbd5e1;\n}\n.paginator button:focus-visible {\n  outline: none;\n  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.35);\n}\n.paginator button:disabled {\n  opacity: 0.5;\n  cursor: default;\n  box-shadow: none;\n}\n\n.rows-per-page {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.rows-per-page select {\n  margin-left: 0;\n}\n.rows-per-page ::ng-deep dcx-ng-select select {\n  width: 60px;\n  height: 1.75rem;\n  padding: 0.25rem 0.375rem;\n  font-size: 0.875rem;\n}\n\n.page-buttons {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-full-table/dcx-ng-full-table.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,'@charset "UTF-8";\n/* ================================\n   ACCESIBILIDAD\n   ================================ */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n/* ================================\n   ESTRUCTURA BASE\n   ================================ */\n.table-wrapper {\n  width: 100%;\n  overflow: visible;\n}\n.table-wrapper.scroll {\n  overflow: auto;\n}\n.table-wrapper.scroll.has-open-menu {\n  overflow-x: auto;\n  overflow-y: visible;\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\ntable.grid td, table.grid th {\n  border: 1px solid var(--table-border, #e3e3e3);\n}\ntable.striped tbody tr:nth-child(odd) {\n  background: var(--table-striped, #fafafa);\n}\n\n/* ================================\n   CABECERA\n   ================================ */\nthead th {\n  position: sticky;\n  top: 0;\n  z-index: 3;\n  background: var(--surface, #fff);\n  text-align: left;\n  padding: 0.5rem 0.75rem;\n  font-weight: 700;\n  line-height: 1.2;\n  border-bottom: 2px solid var(--table-divider, #e3e3e3);\n}\nthead th.sortable {\n  cursor: pointer;\n}\n\n.th-content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.sort-indicator {\n  margin-left: 0.375rem;\n  opacity: 0.7;\n}\n\n/* ================================\n   CELDAS DEL BODY (ESTILOS BASE)\n   ================================ */\ntbody td {\n  padding: 0.5rem 0.75rem;\n  vertical-align: middle;\n  position: relative;\n}\n\n.table-row:hover {\n  background: var(--table-row-hover, #f6f6f6);\n}\n\n.empty-cell {\n  text-align: center;\n  color: #777;\n  padding: 1rem;\n}\n\n/* ================================\n   COLUMNA DE ÍNDICE\n   ================================ */\n.row-index-header {\n  width: 3rem;\n  min-width: 3rem;\n  text-align: center;\n  padding: 0.5rem 0.25rem;\n  color: #6b7280;\n  font-weight: 600;\n  font-variant-numeric: tabular-nums;\n  background: var(--surface, #fff);\n  border-bottom: 2px solid var(--table-divider, #e3e3e3);\n}\n\n.row-index-cell {\n  width: 3rem;\n  min-width: 3rem;\n  text-align: center;\n  padding: 0.5rem 0.25rem;\n  color: #6b7280;\n  font-variant-numeric: tabular-nums;\n}\n\n/* ================================\n   FILTROS DE COLUMNA\n   ================================ */\n.filter-input-wrapper {\n  margin-top: 0.5rem;\n  width: 100%;\n}\n\n.filter-input {\n  width: 100%;\n  padding: 0.375rem 0.5rem;\n  border: 1px solid var(--table-border, #d0d0d0);\n  border-radius: 4px;\n  font-size: 0.875rem;\n  background: var(--surface, #fff);\n}\n.filter-input:focus {\n  outline: none;\n  border-color: var(--primary, #2196f3);\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\n}\n\n/* ================================\n   CELDAS EDITABLES\n   ================================ */\ntd.editable {\n  cursor: pointer;\n}\ntd.editable:hover::after {\n  content: "✎";\n  position: absolute;\n  right: 4px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--primary, #2196f3);\n  font-size: 0.875rem;\n  opacity: 0.6;\n}\n\n.cell-edit-input {\n  width: 100%;\n  padding: 0.25rem 0.5rem;\n  border: 2px solid var(--primary, #2196f3);\n  border-radius: 4px;\n  font-size: inherit;\n  font-family: inherit;\n  background: #fffacd;\n}\n.cell-edit-input:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);\n}\n\n/* ================================\n   COLUMNAS FROZEN\n   ================================ */\nthead th.frozen-left,\nthead th.frozen-right {\n  position: sticky;\n  z-index: 4;\n  background: var(--surface, #fff);\n}\n\ntbody td.frozen-left,\ntbody td.frozen-right {\n  position: sticky;\n  z-index: 2;\n  background: inherit;\n}\n\nthead th.frozen-separator-left,\ntbody td.frozen-separator-left {\n  border-right: 2px solid var(--table-divider-strong, #cbd5e1);\n}\n\nthead th.frozen-separator-right,\ntbody td.frozen-separator-right {\n  border-left: 2px solid var(--table-divider-strong, #cbd5e1);\n}\n\n/* ================================\n   COLUMNA DE ACCIONES\n   ================================ */\n.actions-inline {\n  display: flex;\n  gap: 0.25rem;\n  align-items: center;\n}\n\n.action-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.375rem;\n  border: none;\n  border-radius: 4px;\n  background: transparent;\n  color: var(--text-secondary, #6b7280);\n  cursor: pointer;\n  transition: all 0.15s ease;\n}\n.action-btn:hover:not(:disabled) {\n  background: var(--action-hover-bg, #f3f4f6);\n}\n.action-btn:active:not(:disabled) {\n  transform: scale(0.95);\n}\n.action-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.action-btn.action-primary {\n  color: var(--primary, #2196f3);\n}\n.action-btn.action-primary:hover:not(:disabled) {\n  background: rgba(33, 150, 243, 0.1);\n}\n.action-btn.action-danger {\n  color: var(--danger, #ef4444);\n}\n.action-btn.action-danger:hover:not(:disabled) {\n  background: rgba(239, 68, 68, 0.1);\n}\n.action-btn.action-secondary {\n  color: var(--text-secondary, #6b7280);\n}\n\n/* ================================\n   MENÚ DE ACCIONES (DROPDOWN)\n   ================================ */\n.actions-menu {\n  position: relative;\n}\n\n.action-menu-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.375rem;\n  border: none;\n  border-radius: 4px;\n  background: transparent;\n  color: var(--text-secondary, #6b7280);\n  cursor: pointer;\n  transition: all 0.15s ease;\n}\n.action-menu-btn:hover {\n  background: var(--action-hover-bg, #f3f4f6);\n}\n\n.actions-dropdown {\n  position: absolute;\n  top: calc(100% + 0.25rem);\n  right: 0;\n  left: auto;\n  min-width: 12rem;\n  background: var(--surface, #fff);\n  border: 1px solid var(--table-border, #e3e3e3);\n  border-radius: 6px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 10;\n  padding: 0.25rem;\n}\n\ntbody td.has-open-menu {\n  z-index: 9999 !important;\n}\n\n.action-menu-item {\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  width: 100%;\n  padding: 0.5rem 0.75rem;\n  border: none;\n  border-radius: 4px;\n  background: transparent;\n  color: var(--text, #1f2937);\n  text-align: left;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.15s ease;\n}\n.action-menu-item:hover:not(:disabled) {\n  background: var(--action-hover-bg, #f3f4f6);\n}\n.action-menu-item:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.action-menu-item.action-danger {\n  color: var(--danger, #ef4444);\n}\n.action-menu-item.action-danger:hover:not(:disabled) {\n  background: rgba(239, 68, 68, 0.1);\n}\n.action-menu-item dcx-ng-icon {\n  flex-shrink: 0;\n}\n.action-menu-item span {\n  flex: 1;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-select/dcx-ng-select.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: inline-block;\n  width: 100%;\n  color: var(--color-text-primary);\n  font-family: var(--font-family-primary);\n}\n\n.dcx-ng-select__label {\n  display: inline-block;\n  margin-bottom: var(--spacing-inset-xs, 4px);\n  font-size: var(--font-size-body);\n  font-weight: 500;\n}\n\n.dcx-ng-select__wrapper {\n  position: relative;\n  width: 100%;\n}\n\n.dcx-ng-select__control {\n  width: 100%;\n  background-color: var(--background-default);\n  border: 1px solid var(--border-default);\n  border-radius: 4px;\n  font-size: var(--font-size-body);\n  color: var(--text-body);\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n}\n.dcx-ng-select__control:focus-visible {\n  outline: none;\n  border-color: var(--border-focus);\n  box-shadow: 0 0 0 2px var(--color-primary-light);\n}\n.dcx-ng-select__control.is-disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background-color: var(--background-disabled);\n  color: var(--text-disabled);\n}\n.dcx-ng-select__control.is-invalid {\n  border-color: var(--border-error);\n  box-shadow: 0 0 0 1px var(--border-error);\n  color: var(--text-error);\n}\n.dcx-ng-select__control--xs {\n  padding: var(--spacing-inset-xs);\n}\n.dcx-ng-select__control--s {\n  padding: var(--spacing-inset-s);\n}\n.dcx-ng-select__control--m {\n  padding: var(--spacing-inset-m);\n}\n.dcx-ng-select__control--l {\n  padding: var(--spacing-inset-l);\n}\n.dcx-ng-select__control--xl {\n  padding: var(--spacing-inset-xl);\n}\n\n.selected-value {\n  flex: 1;\n}\n\n.dcx-ng-select__required {\n  color: var(--content-error);\n}\n\n.dcx-ng-select__error {\n  margin-top: var(--spacing-inset-xs);\n  color: var(--text-error);\n  font-size: var(--font-size-body-small);\n}\n\n.dcx-ng-select__buttons {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.dcx-ng-select__control:hover:not(.is-disabled) {\n  box-shadow: 0 0 0 2px var(--border-hover);\n}\n\n.dcx-ng-select__clear-btn {\n  padding: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  opacity: 0.7;\n}\n.dcx-ng-select__clear-btn:hover {\n  opacity: 1;\n}\n\n.dcx-ng-select__chevron {\n  pointer-events: none;\n  opacity: 0.8;\n}\n\n.dcx-ng-select__panel {\n  position: absolute;\n  margin-top: 4px;\n  width: 100%;\n  background: var(--background-default);\n  border: 1px solid var(--border-default);\n  border-radius: 4px;\n  z-index: 10;\n  overflow: hidden;\n}\n\n.dcx-ng-select__search {\n  width: 100%;\n  padding: var(--spacing-inset-m);\n  border: none;\n  border-bottom: 1px solid var(--border-default);\n  font-size: var(--font-size-body);\n}\n.dcx-ng-select__search:focus {\n  outline: none;\n}\n\n.dcx-ng-select__options {\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.dcx-ng-select__option {\n  padding: var(--spacing-inset-m);\n  cursor: pointer;\n  font-size: var(--font-size-body);\n}\n.dcx-ng-select__option:hover {\n  background: var(--background-hover);\n}\n.dcx-ng-select__option.is-disabled {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n.dcx-ng-select__option.is-selected {\n  background: var(--background-pressed);\n  font-weight: 600;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-select/dcx-ng-select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>DcxNgSelectComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var dcx_ng_select_componentngResource=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-select/dcx-ng-select.component.scss?ngResource"),dcx_ng_select_componentngResource_default=__webpack_require__.n(dcx_ng_select_componentngResource),common_module=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),resource=__webpack_require__("./node_modules/@angular/core/fesm2022/resource.mjs"),debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),mock_select=__webpack_require__("./libs/dcx-ng-lib/src/lib/core/mock/select.ts"),generic=__webpack_require__("./libs/dcx-ng-lib/src/lib/core/mock/generic.ts"),dcx_ng_button_component=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-button/dcx-ng-button.component.ts"),dcx_ng_icon_component=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-icon/dcx-ng-icon.component.ts");let DcxNgSelectComponent=class DcxNgSelectComponent{label=(0,core.input)("");options=(0,core.input)([]);placeholder=(0,core.input)(mock_select.Kx);searchable=(0,core.input)(mock_select.$X,{transform:value=>"string"==typeof value?""===value:value});clearable=(0,core.input)(mock_select.eL,{transform:value=>"string"==typeof value?""===value:value});disabled=(0,core.input)(generic.F4,{transform:value=>"string"==typeof value?""===value:value});required=(0,core.input)(mock_select.mw,{transform:value=>"string"==typeof value?""===value:value});isInvalid=(0,core.input)(mock_select.W,{transform:value=>"string"==typeof value?""===value:value});errorMessage=(0,core.input)("");errorIcon=(0,core.input)(generic.eW);valueInput=(0,core.input)(mock_select.a$);spacing=(0,core.input)(generic.SO);value=(0,root_effect_scheduler.vPA)(null);receivedFromForm=(0,root_effect_scheduler.vPA)(!1);isOpen=(0,root_effect_scheduler.vPA)(!1);search=(0,root_effect_scheduler.vPA)("");filtered=(0,resource.EW)(()=>{const term=this.search().toLowerCase();return this.options().filter(o=>o.label.toLowerCase().includes(term))});selectedLabel=(0,resource.EW)(()=>{const val=this.value();if(!val)return this.placeholder();const opt=this.options().find(o=>o.value===val);return opt?.label??this.placeholder()});selectContolClasses=(0,resource.EW)(()=>{const base="dcx-ng-select__control";return[base,`${base}--${this.spacing()}`].filter(Boolean).join(" ")});selectId=`select-${Math.random().toString(36).substring(2)}`;labelId=`${this.selectId}-label`;valueChange=(0,core.output)();clear=(0,core.output)();searchInput;optionEls;ngOnInit(){const initial=this.valueInput();this.receivedFromForm()||null===initial||this.value.set(initial)}onChange=v=>{};onTouched=()=>{};onOptionSpace(event,opt){event.preventDefault(),opt.disabled||this.selectOption(opt)}writeValue(val){this.receivedFromForm.set(!0),this.value.set(val)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}toggle(){this.disabled()||(this.isOpen.update(v=>!v),this.isOpen()&&(this.searchable()&&queueMicrotask(()=>this.searchInput?.nativeElement?.focus()),queueMicrotask(()=>{const selected=this.optionEls?.find(el=>el.nativeElement.classList.contains("is-selected"));selected&&selected.nativeElement.scrollIntoView({block:"nearest"})})))}selectOption(opt){this.value.set(opt.value),this.onChange(opt.value),this.valueChange.emit(opt.value),this.isOpen.set(!1)}clearValue(ev){this.search.set(""),ev.stopPropagation(),this.value.set(null),this.onChange(null),this.clear.emit()}onKey(ev){if(!this.isOpen())return;const opts=this.filtered(),idx=opts.findIndex(o=>o.value===this.value());if("ArrowDown"===ev.key){ev.preventDefault();const next=opts[idx+1]??opts[0];this.value.set(next.value)}if("ArrowUp"===ev.key){ev.preventDefault();const prev=opts[idx-1]??opts[opts.length-1];this.value.set(prev.value)}if("Enter"===ev.key){ev.preventDefault();const selected=opts.find(o=>o.value===this.value());selected&&this.selectOption(selected)}"Escape"===ev.key&&this.isOpen.set(!1)}static propDecorators={label:[{type:debug_node.pde,args:[{isSignal:!0,alias:"label",required:!1,transform:void 0}]}],options:[{type:debug_node.pde,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],placeholder:[{type:debug_node.pde,args:[{isSignal:!0,alias:"placeholder",required:!1,transform:void 0}]}],searchable:[{type:debug_node.pde,args:[{isSignal:!0,alias:"searchable",required:!1,transform:void 0}]}],clearable:[{type:debug_node.pde,args:[{isSignal:!0,alias:"clearable",required:!1,transform:void 0}]}],disabled:[{type:debug_node.pde,args:[{isSignal:!0,alias:"disabled",required:!1,transform:void 0}]}],required:[{type:debug_node.pde,args:[{isSignal:!0,alias:"required",required:!1,transform:void 0}]}],isInvalid:[{type:debug_node.pde,args:[{isSignal:!0,alias:"isInvalid",required:!1,transform:void 0}]}],errorMessage:[{type:debug_node.pde,args:[{isSignal:!0,alias:"errorMessage",required:!1,transform:void 0}]}],errorIcon:[{type:debug_node.pde,args:[{isSignal:!0,alias:"errorIcon",required:!1,transform:void 0}]}],valueInput:[{type:debug_node.pde,args:[{isSignal:!0,alias:"valueInput",required:!1,transform:void 0}]}],spacing:[{type:debug_node.pde,args:[{isSignal:!0,alias:"spacing",required:!1,transform:void 0}]}],valueChange:[{type:debug_node.k7i,args:["valueChange"]}],clear:[{type:debug_node.k7i,args:["clear"]}],searchInput:[{type:core.ViewChild,args:["searchInput"]}],optionEls:[{type:core.ViewChildren,args:["optionEl"]}],onKey:[{type:debug_node.Z$l,args:["keydown",["$event"]]}]}};DcxNgSelectComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"dcx-ng-select",standalone:!0,template:'@if (label()) {\n  <label class="dcx-ng-select__label" [attr.for]="selectId" [attr.id]="labelId">\n    {{ label() }}\n    @if (required()) {\n      <span class="dcx-ng-select__required">*</span>\n    }\n  </label>\n}\n\n<div class="dcx-ng-select__wrapper" [class.is-disabled]="disabled()">\n  <div\n    [class]="selectContolClasses()"\n    [class.is-disabled]="disabled()"\n    [class.is-invalid]="isInvalid()"\n    tabindex="0"\n    (click)="toggle()"\n    (keydown.enter)="toggle()"\n    (keydown.space)="toggle(); $event.preventDefault()"\n    role="combobox"\n    [attr.id]="selectId"\n    [attr.aria-expanded]="isOpen()"\n    [attr.aria-labelledby]="labelId"\n    aria-haspopup="listbox"\n    [attr.aria-controls]="selectId + \'-panel\'"\n  >\n    <span class="selected-value">\n      {{ selectedLabel() }}\n    </span>\n\n    <div class="dcx-ng-select__buttons">\n      @if (clearable() && value()) {\n        <dcx-ng-button\n          class="dcx-ng-select__clear-btn"\n          (click)="clearValue($event)"\n          aria-label="Borrar selección"\n          icon\n          variant="icon-only"\n          iconName="x"\n          iconSize="l"\n        ></dcx-ng-button>\n      }\n\n      <dcx-ng-button\n        class="dcx-ng-select__chevron"\n        icon\n        variant="icon-only"\n        iconName="chevron-down"\n        iconSize="l"\n        aria-hidden="true"\n        tabindex="-1"\n      ></dcx-ng-button>\n    </div>\n  </div>\n\n  @if (isInvalid() && errorMessage()) {\n    <div class="dcx-ng-select__error">\n      <dcx-ng-icon [name]="errorIcon()"></dcx-ng-icon>\n\n      <span>\n        {{ errorMessage() }}\n      </span>\n    </div>\n  }\n\n  @if (isOpen()) {\n    <div\n      class="dcx-ng-select__panel"\n      role="listbox"\n      [attr.id]="selectId + \'-panel\'"\n      [attr.aria-labelledby]="labelId"\n    >\n      @if (searchable()) {\n        <input\n          #searchInput\n          class="dcx-ng-select__search"\n          placeholder="Buscar..."\n          [value]="search()"\n          (input)="search.set($any($event.target).value)"\n          aria-label="Buscar opciones"\n        />\n      }\n\n      <div class="dcx-ng-select__options">\n        @for (opt of filtered(); track $index) {\n          <div\n            #optionEl\n            class="dcx-ng-select__option"\n            [class.is-disabled]="opt.disabled"\n            [class.is-selected]="opt.value === value()"\n            (click)="!opt.disabled && selectOption(opt)"\n            (keydown.enter)="!opt.disabled && selectOption(opt)"\n            (keydown.space)="onOptionSpace($event, opt)"\n            role="option"\n            [attr.aria-selected]="opt.value === value()"\n            [attr.id]="selectId + \'-opt-\' + $index"\n            [attr.tabindex]="opt.disabled ? null : \'0\'"\n            [attr.aria-disabled]="opt.disabled ? \'true\' : null"\n          >\n            {{ opt.label }}\n          </div>\n        }\n      </div>\n    </div>\n  }\n</div>\n',imports:[fesm2022_forms.X1,common_module.MD,dcx_ng_button_component.q,dcx_ng_icon_component.N],providers:[{provide:fesm2022_forms.kq,useExisting:(0,root_effect_scheduler.Rfq)(()=>DcxNgSelectComponent),multi:!0}],styles:[dcx_ng_select_componentngResource_default()]})],DcxNgSelectComponent)},"./libs/dcx-ng-lib/src/lib/stories/TableFull/ClassBased.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GridScroll:()=>GridScroll,InlineActions:()=>InlineActions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ClassBased_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.js"),test_dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs");const PERSON_HEADERS_BASE=[{name:"Nombre",key:"name",sortable:!0,type:"string",defaultSort:"asc",filterable:!0},{name:"Edad",key:"age",sortable:!0,type:"number",filterable:!0},{name:"País",key:"country",sortable:!0,type:"string",filterable:!0,editable:!0},{name:"Creado el",key:"createdAt",sortable:!0}];const USER_HEADERS_FULL=[{name:"ID",key:"id",type:"number",cellType:"number",sortable:!0,defaultSort:"asc",minWidth:"70px",frozen:"left"},{name:"Nombre",key:"name",sortable:!0,type:"string",filterable:!0,editable:!0,minWidth:"140px"},{name:"Edad",key:"age",sortable:!0,type:"number",filterable:!0,minWidth:"110px"},{name:"País",key:"country",sortable:!0,type:"string",filterable:!0,editable:!0,minWidth:"160px"},{name:"Creado el",key:"createdAt",sortable:!0,cellType:"date",cellTypeConfig:{dateFormat:"dd/MM/yyyy HH:mm"},minWidth:"190px"}],USER_HEADERS_WITH_MENU=[...USER_HEADERS_FULL,{name:"Acciones",key:"actions",cellType:"actions",frozen:"right",minWidth:"150px",cellTypeConfig:{mode:"menu",menuIcon:"three-dots-vertical",items:[{id:"view",icon:"eye-fill",label:"Ver detalle"},{id:"edit",icon:"pencil-fill",label:"Editar",variant:"primary"},{id:"delete",icon:"trash-fill",label:"Eliminar",variant:"danger",disabled:row=>row.age<30}]}}],USER_HEADERS_WITH_INLINE=[...USER_HEADERS_FULL,{name:"Acciones",key:"actions",cellType:"actions",frozen:"right",minWidth:"150px",cellTypeConfig:{mode:"inline",items:[{id:"view",icon:"eye-fill",label:"Ver detalle",variant:"primary"},{id:"edit",icon:"pencil-fill",label:"Editar"},{id:"delete",icon:"trash-fill",label:"Eliminar",variant:"danger",disabled:row=>row.age<30}]}}];new Date("2024-01-15T10:30:00"),new Date("2024-02-20T14:15:00"),new Date("2024-03-10T09:45:00"),new Date("2024-01-05T16:20:00"),new Date("2024-02-28T11:00:00"),USER_HEADERS_WITH_INLINE.filter(h=>"actions"===h.key);var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var DcxSortType,dcx_ng_full_table_componentngResource=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-full-table/dcx-ng-full-table.component.scss?ngResource"),dcx_ng_full_table_componentngResource_default=__webpack_require__.n(dcx_ng_full_table_componentngResource),common_module=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs"),root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),resource=__webpack_require__("./node_modules/@angular/core/fesm2022/resource.mjs"),debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),dcx_ng_icon_component=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-icon/dcx-ng-icon.component.ts");!function(DcxSortType){DcxSortType.ASCENDING="ascending",DcxSortType.DESCENDING="descending",DcxSortType.NONE="none"}(DcxSortType||(DcxSortType={}));let TableComparatorService=class TableComparatorService{compare(left,right,type){return null==left&&null==right?0:null==left?1:null==right?-1:"number"===type?this.compareNumbers(left,right):this.compareStrings(left,right)}compareNumbers(left,right){const[leftNum,rightNum]=[Number(left),Number(right)];return Number.isNaN(leftNum)&&Number.isNaN(rightNum)?0:Number.isNaN(leftNum)?1:Number.isNaN(rightNum)?-1:leftNum-rightNum}compareStrings(left,right){return String(left).localeCompare(String(right),void 0,{sensitivity:"base",numeric:!0})}};TableComparatorService=(0,tslib_es6.Cg)([(0,debug_node._qm)()],TableComparatorService);let TableDataPipelineService=class TableDataPipelineService{normalize(rows){return rows.map((row,index)=>void 0!==row.id?row:{...row,id:index})}filter(rows,filters){const activeFilters=Object.entries(filters).filter(([_,value])=>""!==value.trim());return 0===activeFilters.length?rows:rows.filter(row=>activeFilters.every(([key,filterValue])=>String(row[key]??"").toLowerCase().includes(filterValue.toLowerCase())))}sort(rows,sort,headers,compareFn){const{key,dir}=sort;if(!key||!dir)return rows;const sortedRows=[...rows],header=headers.find(h=>h.key===key),type=header?.type??this.inferType(rows,key);return sortedRows.sort((a,b)=>compareFn(a[key],b[key],type)),"desc"===dir?sortedRows.reverse():sortedRows}paginate(rows,pageIndex,pageSize){const start=pageIndex*pageSize;return rows.slice(start,start+pageSize)}inferType(rows,key){const first=rows.find(r=>null!=r?.[key])?.[key];return"number"==typeof first?"number":"string"}};TableDataPipelineService=(0,tslib_es6.Cg)([(0,debug_node._qm)()],TableDataPipelineService);class TableState{config;pipelineService;comparatorService;_manualSort;_columnFilters;_rawPageIndex;_columnWidths;normalizedRows;filteredRows;sortedRows;paginatedRows;displayHeaders;frozenMeta;sort;pageSize;pageIndex;hasRowIndex;pageInfo;constructor(config,pipelineService,comparatorService){this.config=config,this.pipelineService=pipelineService,this.comparatorService=comparatorService,this._manualSort=(0,root_effect_scheduler.vPA)({key:null,dir:null}),this._columnFilters=(0,root_effect_scheduler.vPA)({}),this._rawPageIndex=(0,root_effect_scheduler.vPA)(0),this._columnWidths=(0,root_effect_scheduler.vPA)([]),this.displayHeaders=(0,resource.EW)(()=>{const headers=this.config.headers(),left=headers.filter(h=>"left"===h.frozen),right=headers.filter(h=>"right"===h.frozen);return[...left,...headers.filter(h=>!h.frozen),...right]}),this.sort=(0,resource.EW)(()=>{const manual=this._manualSort();if(manual.key&&manual.dir)return manual;const defaultHeader=this.config.headers().find(h=>h.defaultSort&&h.key&&!1!==h.sortable);return defaultHeader?.key&&defaultHeader.defaultSort?{key:defaultHeader.key,dir:defaultHeader.defaultSort}:{key:null,dir:null}}),this.normalizedRows=(0,resource.EW)(()=>this.pipelineService.normalize(this.config.rows())),this.filteredRows=(0,resource.EW)(()=>this.pipelineService.filter(this.normalizedRows(),this._columnFilters())),this.sortedRows=(0,resource.EW)(()=>this.pipelineService.sort(this.filteredRows(),this.sort(),this.config.headers(),(left,right,type)=>this.comparatorService.compare(left,right,type))),this.pageSize=(0,resource.EW)(()=>{const value=this.config.rowsPerPage();return Number.isFinite(value)&&value>0?value:10}),this.pageIndex=(0,resource.EW)(()=>this._rawPageIndex()),this.paginatedRows=(0,resource.EW)(()=>this.config.paginator()?this.pipelineService.paginate(this.sortedRows(),this.pageIndex(),this.pageSize()):this.sortedRows()),this.frozenMeta=(0,resource.EW)(()=>{const headers=this.displayHeaders(),widths=this._columnWidths(),meta=headers.map(()=>({left:null,right:null,separatorLeft:!1,separatorRight:!1}));let leftOffset=0;const leftIndices=[];headers.forEach((h,idx)=>{"left"===h.frozen&&(meta[idx].left=leftOffset,leftOffset+=widths[idx]??0,leftIndices.push(idx))});let rightOffset=0;const rightIndices=[];for(let i=headers.length-1;i>=0;i--){"right"===headers[i].frozen&&(meta[i].right=rightOffset,rightOffset+=widths[i]??0,rightIndices.push(i))}if(this.config.frozenLeftSeparator()&&leftIndices.length>0){const lastLeftIdx=leftIndices[leftIndices.length-1];meta[lastLeftIdx].separatorLeft=!0}if(this.config.frozenRightSeparator()&&rightIndices.length>0){const leftMostRightIdx=rightIndices[rightIndices.length-1];meta[leftMostRightIdx].separatorRight=!0}return meta}),this.hasRowIndex=(0,resource.EW)(()=>this.config.showRowIndex()),this.pageInfo=(0,resource.EW)(()=>({index:this.pageIndex(),size:this.pageSize(),total:this.sortedRows().length}))}setSort(sort){this._manualSort.set(sort)}toggleSort(header){if(!header.sortable)return this.sort();const current=this.sort(),nextDirection=current.key!==header.key?"asc":"asc"===current.dir?"desc":"desc"===current.dir?null:"asc",newSort={key:header.key??null,dir:nextDirection};return this._manualSort.set(newSort),newSort}setFilter(key,value){this._columnFilters.update(filters=>({...filters,[key]:value})),this._rawPageIndex.set(0)}getFilterValue(key){return this._columnFilters()[key]||""}goToPage(page){this._rawPageIndex.set(page)}resetPageIndex(){this._rawPageIndex.set(0)}setColumnWidths(widths){this._columnWidths.set(widths)}}let DcxNgFullTableTemplateDirective=class DcxNgFullTableTemplateDirective{template;dcxNgFullTableTemplate=core.input.required();get type(){return this.dcxNgFullTableTemplate()}constructor(template){this.template=template}static ctorParameters=()=>[{type:debug_node.C4Q}];static propDecorators={dcxNgFullTableTemplate:[{type:debug_node.pde,args:[{isSignal:!0,alias:"dcxNgFullTableTemplate",required:!0,transform:void 0}]}]}};DcxNgFullTableTemplateDirective=(0,tslib_es6.Cg)([(0,debug_node.WLR)({selector:"ng-template[dcxNgFullTableTemplate]",standalone:!0}),(0,tslib_es6.Sn)("design:paramtypes",[debug_node.C4Q])],DcxNgFullTableTemplateDirective);var dcx_ng_table_paginator_componentngResource=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-full-table/components/dcx-ng-table-paginator/dcx-ng-table-paginator.component.scss?ngResource"),dcx_ng_table_paginator_componentngResource_default=__webpack_require__.n(dcx_ng_table_paginator_componentngResource),dcx_ng_select_component=__webpack_require__("./libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-select/dcx-ng-select.component.ts");let DcxNgTablePaginatorComponent=class DcxNgTablePaginatorComponent{length=core.input.required();pageIndex=(0,core.input)(0);pageSize=(0,core.input)(10);pageSizeOptions=(0,core.input)([5,10,20]);rowsPerPageLabel=(0,core.input)("Filas:");show=(0,core.input)(!0);pageChange=(0,core.output)();rowsPerPageChange=(0,core.output)();totalPages=(0,resource.EW)(()=>{const total=this.length(),size=this.pageSize()||10;return Math.max(1,Math.ceil(total/size))});pages=(0,resource.EW)(()=>Array.from({length:this.totalPages()},(_,i)=>i));pageStart=(0,resource.EW)(()=>this.length()?this.pageIndex()*this.pageSize()+1:0);pageEnd=(0,resource.EW)(()=>{const total=this.length();return total?Math.min((this.pageIndex()+1)*this.pageSize(),total):0});rowsPerPageOptionsFormatted=(0,resource.EW)(()=>this.pageSizeOptions().map(value=>({value,label:String(value)})));onRowsPerPageSelect(size){if(null===size)return;const parsed=Number(size),validSize=Number.isFinite(parsed)&&parsed>0?parsed:10;this.rowsPerPageChange.emit(validSize)}goToPage(page){const clamped=Math.max(0,Math.min(page,this.totalPages()-1));clamped!==this.pageIndex()&&this.pageChange.emit(clamped)}static propDecorators={length:[{type:debug_node.pde,args:[{isSignal:!0,alias:"length",required:!0,transform:void 0}]}],pageIndex:[{type:debug_node.pde,args:[{isSignal:!0,alias:"pageIndex",required:!1,transform:void 0}]}],pageSize:[{type:debug_node.pde,args:[{isSignal:!0,alias:"pageSize",required:!1,transform:void 0}]}],pageSizeOptions:[{type:debug_node.pde,args:[{isSignal:!0,alias:"pageSizeOptions",required:!1,transform:void 0}]}],rowsPerPageLabel:[{type:debug_node.pde,args:[{isSignal:!0,alias:"rowsPerPageLabel",required:!1,transform:void 0}]}],show:[{type:debug_node.pde,args:[{isSignal:!0,alias:"show",required:!1,transform:void 0}]}],pageChange:[{type:debug_node.k7i,args:["pageChange"]}],rowsPerPageChange:[{type:debug_node.k7i,args:["rowsPerPageChange"]}]}};DcxNgTablePaginatorComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"dcx-ng-table-paginator",imports:[dcx_ng_icon_component.N,dcx_ng_select_component.k],template:'@if (show() && length() > 0) {\n  <div class="paginator">\n    <div class="paginator-left">\n      <button\n        type="button"\n        class="paginator-nav"\n        [disabled]="pageIndex() === 0"\n        (click)="goToPage(0)"\n        aria-label="Primera página"\n      >\n        <dcx-ng-icon name="chevron-double-left" size="s" />\n      </button>\n\n      <button\n        type="button"\n        class="paginator-nav"\n        [disabled]="pageIndex() === 0"\n        (click)="goToPage(pageIndex() - 1)"\n        aria-label="Página anterior"\n      >\n        <dcx-ng-icon name="chevron-left" size="s" />\n      </button>\n\n      <div class="page-buttons">\n        @for (page of pages(); track page) {\n          <button\n            type="button"\n            class="paginator-page"\n            [class.paginator-page--active]="pageIndex() === page"\n            [attr.aria-current]="pageIndex() === page ? \'page\' : null"\n            (click)="goToPage(page)"\n          >\n            {{ page + 1 }}\n          </button>\n        }\n      </div>\n\n      <button\n        type="button"\n        class="paginator-nav"\n        [disabled]="pageIndex() >= totalPages() - 1"\n        (click)="goToPage(pageIndex() + 1)"\n        aria-label="Página siguiente"\n      >\n        <dcx-ng-icon name="chevron-right" size="s" />\n      </button>\n\n      <button\n        type="button"\n        class="paginator-nav"\n        [disabled]="pageIndex() >= totalPages() - 1"\n        (click)="goToPage(totalPages() - 1)"\n        aria-label="Última página"\n      >\n        <dcx-ng-icon name="chevron-double-right" size="s" />\n      </button>\n    </div>\n\n    <div class="paginator-right">\n      <span class="range">\n        {{ pageStart() }} - {{ pageEnd() }} de {{ length() }}\n      </span>\n\n      <label class="rows-per-page">\n        {{ rowsPerPageLabel() }}\n        <dcx-ng-select\n          [options]="rowsPerPageOptionsFormatted()"\n          (valueChange)="onRowsPerPageSelect($event)"\n        />\n      </label>\n    </div>\n  </div>\n}\n',changeDetection:debug_node.Ngq.OnPush,styles:[dcx_ng_table_paginator_componentngResource_default()]})],DcxNgTablePaginatorComponent);let DcxNgFullTableComponent=class DcxNgFullTableComponent{pipelineService=(0,root_effect_scheduler.WQX)(TableDataPipelineService);comparatorService=(0,root_effect_scheduler.WQX)(TableComparatorService);headers=core.input.required();rows=core.input.required();showGrid=(0,core.input)(!1);showStripped=(0,core.input)(!1);scroll=(0,core.input)(!1);scrollHeight=(0,core.input)("320px");paginator=(0,core.input)(!1);rowsPerPage=(0,core.input)(10);rowsPerPageOptions=(0,core.input)([5,10,20]);showRowIndex=(0,core.input)(!1);normalizedRowsPerPage=(0,resource.EW)(()=>{const current=this.rowsPerPage(),options=this.rowsPerPageOptions();return options.includes(current)?current:options[0]??10});rowIndexLabel=(0,core.input)("#");frozenLeftSeparator=(0,core.input)(!1);frozenRightSeparator=(0,core.input)(!1);sortChange=(0,core.output)();rowsPerPageChange=(0,core.output)();pageChange=(0,core.output)();cellEdit=(0,core.output)();rowAction=(0,core.output)();defaultHeaderTpl=core.viewChild.required("defaultHeaderTpl");defaultCellTpl=core.viewChild.required("defaultCellTpl");defaultEmptyTpl=core.viewChild.required("defaultEmptyTpl");builtInDateTpl=core.viewChild.required("builtInDateTpl");builtInActionsTpl=core.viewChild.required("builtInActionsTpl");headerCells=(0,core.viewChildren)("headerCell");externalTemplates=(0,core.contentChildren)(DcxNgFullTableTemplateDirective);sortTypeIcon={[DcxSortType.NONE]:"arrow-down-up",[DcxSortType.ASCENDING]:"arrow-up",[DcxSortType.DESCENDING]:"arrow-down"};_editingCell=(0,root_effect_scheduler.vPA)(null);_openMenuRowIndex=(0,root_effect_scheduler.vPA)(null);stateConfig={headers:this.headers,rows:this.rows,rowsPerPage:this.normalizedRowsPerPage,paginator:this.paginator,frozenLeftSeparator:this.frozenLeftSeparator,frozenRightSeparator:this.frozenRightSeparator,showRowIndex:this.showRowIndex};state;displayHeaders=(0,resource.EW)(()=>this.state.displayHeaders());paginatedRows=(0,resource.EW)(()=>this.state.paginatedRows());sortedRows=(0,resource.EW)(()=>this.state.sortedRows());frozenMeta=(0,resource.EW)(()=>this.state.frozenMeta());sort=(0,resource.EW)(()=>this.state.sort());pageSize=(0,resource.EW)(()=>this.state.pageSize());pageIndex=(0,resource.EW)(()=>this.state.pageIndex());hasRowIndex=(0,resource.EW)(()=>this.state.hasRowIndex());pageInfo=(0,resource.EW)(()=>this.state.pageInfo());sortLabel=(0,resource.EW)(()=>{const{key,dir}=this.sort();if(!key||!dir)return null;const header=this.displayHeaders().find(h=>h.key===key);return header?.name??key});constructor(){this.state=new TableState(this.stateConfig,this.pipelineService,this.comparatorService),(0,debug_node.mal)(()=>this.measureColumnWidths())}templateCache=(0,resource.EW)(()=>{const cache=new Map;return this.externalTemplates().forEach(dir=>cache.set(dir.type,dir.template)),cache});sortIcons=(0,resource.EW)(()=>{const icons=new Map;return this.displayHeaders().forEach(header=>{const ariaType=this.ariaSort(header);icons.set(header.key||"",this.sortTypeIcon[ariaType])}),icons});onHeaderClick(header){const newSort=this.state.toggleSort(header);this.sortChange.emit(newSort)}ariaSort(header){const{key,dir}=this.sort();return key===header.key&&dir?"asc"===dir?DcxSortType.ASCENDING:DcxSortType.DESCENDING:DcxSortType.NONE}getSortIcon(header){return this.sortIcons().get(header.key||"")||this.sortTypeIcon[DcxSortType.NONE]}onRowsPerPageChange(size){if(null===size)return;const parsed=Number(size),validSize=Number.isFinite(parsed)&&parsed>0?parsed:10;this.rowsPerPageChange.emit(validSize),this.state.resetPageIndex()}goToPage(page){page!==this.pageIndex()&&(this.state.goToPage(page),this.pageChange.emit(page))}onFilterChange(key,value){this.state.setFilter(key,value)}getFilterValue(key){return this.state.getFilterValue(key)}getFilterPlaceholder(headerName){return`Filtrar ${headerName}`}isActionDisabled(action,row){return!!action.disabled&&action.disabled(row)}getMenuIcon(menuIcon){return menuIcon||"three-dots-vertical"}onCellDblClick(rowIndex,key,header){!header.editable||header.template||header.renderFn||this._editingCell.set({rowIndex,key})}isEditing(rowIndex,key){const editing=this._editingCell();return editing?.rowIndex===rowIndex&&editing?.key===key}onCellEditComplete(row,key,newValue,rowIndex){const oldValue=row[key],header=this.headers().find(h=>h.key===key);let parsedValue=newValue;"number"===header?.type&&(parsedValue=Number(newValue),Number.isNaN(parsedValue)&&(parsedValue=oldValue)),parsedValue!==oldValue&&this.cellEdit.emit({row,key,oldValue,newValue:parsedValue,rowIndex}),this._editingCell.set(null)}onCellEditCancel(){this._editingCell.set(null)}getHeaderTemplate(header){if(header.headerTemplate){const custom=this.templateCache().get(header.headerTemplate);if(custom)return custom}return this.defaultHeaderTpl()}getCellTemplate(header){if(header.template){const custom=this.templateCache().get(header.template);if(custom)return custom}switch(header.cellType){case"date":return this.builtInDateTpl();case"actions":return this.builtInActionsTpl();default:return this.defaultCellTpl()}}getEmptyTemplate(){return this.templateCache().get("empty")||this.defaultEmptyTpl()}measureColumnWidths(){const cells=this.headerCells();if(!cells||0===cells.length)return void this.state.setColumnWidths([]);const widths=cells.map(cell=>cell.nativeElement.getBoundingClientRect().width);this.state.setColumnWidths(widths)}getRowDisplayIndex(rowIndex){return this.pageIndex()*this.pageSize()+rowIndex+1}onActionClick(actionId,row,rowIndex){this.rowAction.emit({actionId,row,rowIndex}),this._openMenuRowIndex.set(null)}toggleActionsMenu(rowIndex,event){event.stopPropagation();const newValue=this._openMenuRowIndex()===rowIndex?null:rowIndex;this._openMenuRowIndex.set(newValue);const wrapper=event.target.closest(".table-wrapper");wrapper&&(null!==newValue?wrapper.classList.add("has-open-menu"):wrapper.classList.remove("has-open-menu"))}isMenuOpen(rowIndex){return this._openMenuRowIndex()===rowIndex}closeAllMenus(){this._openMenuRowIndex.set(null),document.querySelectorAll(".table-wrapper.has-open-menu").forEach(wrapper=>{wrapper.classList.remove("has-open-menu")})}static ctorParameters=()=>[];static propDecorators={headers:[{type:debug_node.pde,args:[{isSignal:!0,alias:"headers",required:!0,transform:void 0}]}],rows:[{type:debug_node.pde,args:[{isSignal:!0,alias:"rows",required:!0,transform:void 0}]}],showGrid:[{type:debug_node.pde,args:[{isSignal:!0,alias:"showGrid",required:!1,transform:void 0}]}],showStripped:[{type:debug_node.pde,args:[{isSignal:!0,alias:"showStripped",required:!1,transform:void 0}]}],scroll:[{type:debug_node.pde,args:[{isSignal:!0,alias:"scroll",required:!1,transform:void 0}]}],scrollHeight:[{type:debug_node.pde,args:[{isSignal:!0,alias:"scrollHeight",required:!1,transform:void 0}]}],paginator:[{type:debug_node.pde,args:[{isSignal:!0,alias:"paginator",required:!1,transform:void 0}]}],rowsPerPage:[{type:debug_node.pde,args:[{isSignal:!0,alias:"rowsPerPage",required:!1,transform:void 0}]}],rowsPerPageOptions:[{type:debug_node.pde,args:[{isSignal:!0,alias:"rowsPerPageOptions",required:!1,transform:void 0}]}],showRowIndex:[{type:debug_node.pde,args:[{isSignal:!0,alias:"showRowIndex",required:!1,transform:void 0}]}],rowIndexLabel:[{type:debug_node.pde,args:[{isSignal:!0,alias:"rowIndexLabel",required:!1,transform:void 0}]}],frozenLeftSeparator:[{type:debug_node.pde,args:[{isSignal:!0,alias:"frozenLeftSeparator",required:!1,transform:void 0}]}],frozenRightSeparator:[{type:debug_node.pde,args:[{isSignal:!0,alias:"frozenRightSeparator",required:!1,transform:void 0}]}],sortChange:[{type:debug_node.k7i,args:["sortChange"]}],rowsPerPageChange:[{type:debug_node.k7i,args:["rowsPerPageChange"]}],pageChange:[{type:debug_node.k7i,args:["pageChange"]}],cellEdit:[{type:debug_node.k7i,args:["cellEdit"]}],rowAction:[{type:debug_node.k7i,args:["rowAction"]}],defaultHeaderTpl:[{type:core.ViewChild,args:["defaultHeaderTpl",{isSignal:!0}]}],defaultCellTpl:[{type:core.ViewChild,args:["defaultCellTpl",{isSignal:!0}]}],defaultEmptyTpl:[{type:core.ViewChild,args:["defaultEmptyTpl",{isSignal:!0}]}],builtInDateTpl:[{type:core.ViewChild,args:["builtInDateTpl",{isSignal:!0}]}],builtInActionsTpl:[{type:core.ViewChild,args:["builtInActionsTpl",{isSignal:!0}]}],headerCells:[{type:core.ViewChildren,args:["headerCell",{isSignal:!0}]}],externalTemplates:[{type:core.ContentChildren,args:[DcxNgFullTableTemplateDirective,{isSignal:!0}]}]}};DcxNgFullTableComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"dcx-ng-full-table",imports:[dcx_ng_icon_component.N,DcxNgTablePaginatorComponent,common_module.vh,common_module.T3],providers:[TableDataPipelineService,TableComparatorService],template:'<div\n  class="table-wrapper"\n  [class.scroll]="scroll()"\n  [style.max-height]="scroll() ? scrollHeight() : null"\n  (click)="closeAllMenus()"\n  role="region"\n  aria-label="Tabla de datos con ordenación y filtrado"\n>\n  \x3c!-- Región live para anunciar cambios de ordenación/filtrado --\x3e\n  <div class="sr-only" aria-live="polite" aria-atomic="true">\n    @if (sortLabel() && sort().dir) {\n      Ordenado por {{ sortLabel() }} en orden\n      {{ sort().dir === \'asc\' ? \'ascendente\' : \'descendente\' }}\n    }\n  </div>\n\n  <table [class.grid]="showGrid()" [class.striped]="showStripped()">\n    \x3c!-- ==================== HEADER ==================== --\x3e\n    <thead>\n      <tr>\n        @if (showRowIndex()) {\n          <th scope="col" class="row-index-header">\n            {{ rowIndexLabel() }}\n          </th>\n        }\n\n        @for (\n          header of displayHeaders();\n          track header.key;\n          let colIndex = $index\n        ) {\n          <th\n            #headerCell\n            scope="col"\n            [class.sortable]="header.sortable"\n            [class.frozen-left]="frozenMeta()[colIndex].left !== null"\n            [class.frozen-right]="frozenMeta()[colIndex].right !== null"\n            [class.frozen-separator-left]="frozenMeta()[colIndex].separatorLeft"\n            [class.frozen-separator-right]="frozenMeta()[colIndex].separatorRight"\n            [style.left.px]="frozenMeta()[colIndex].left"\n            [style.right.px]="frozenMeta()[colIndex].right"\n            [style.min-width]="header.minWidth || null"\n            [style.max-width]="header.maxWidth || null"\n            [style.width]="header.width || null"\n            [attr.aria-sort]="ariaSort(header)"\n            [attr.tabindex]="header.sortable ? 0 : null"\n            (click)="onHeaderClick(header)"\n            (keydown.enter)="onHeaderClick(header)"\n            (keydown.space)="onHeaderClick(header); $event.preventDefault()"\n          >\n            <div class="th-content">\n              <ng-container\n                [ngTemplateOutlet]="getHeaderTemplate(header)"\n                [ngTemplateOutletContext]="{ $implicit: header }"\n              />\n            </div>\n\n            @if (header.filterable && header.key) {\n              <div class="filter-input-wrapper">\n                <input\n                  type="text"\n                  class="filter-input"\n                  [placeholder]="getFilterPlaceholder(header.name)"\n                  [value]="getFilterValue(header.key)"\n                  (click)="$event.stopPropagation()"\n                  (input)="onFilterChange(header.key, $any($event.target).value)"\n                />\n              </div>\n            }\n          </th>\n        }\n      </tr>\n    </thead>\n\n    \x3c!-- ==================== BODY ==================== --\x3e\n    <tbody>\n      @if (sortedRows().length === 0) {\n        <tr>\n          <td\n            [attr.colspan]="displayHeaders().length + (showRowIndex() ? 1 : 0)"\n            class="empty-cell"\n          >\n            <ng-container\n              [ngTemplateOutlet]="getEmptyTemplate()"\n              [ngTemplateOutletContext]="{ headers: displayHeaders() }"\n            />\n          </td>\n        </tr>\n      } @else {\n        @for (row of paginatedRows(); track row.id; let rowIndex = $index) {\n          <tr class="table-row">\n            @if (showRowIndex()) {\n              <td class="row-index-cell">\n                {{ getRowDisplayIndex(rowIndex) }}\n              </td>\n            }\n\n            @for (\n              header of displayHeaders();\n              track header.key;\n              let colIndex = $index\n            ) {\n              <td\n                [class.editable]="header.editable"\n                [class.frozen-left]="frozenMeta()[colIndex].left !== null"\n                [class.frozen-right]="frozenMeta()[colIndex].right !== null"\n                [class.frozen-separator-left]="frozenMeta()[colIndex].separatorLeft"\n                [class.frozen-separator-right]="frozenMeta()[colIndex].separatorRight"\n                [class.has-open-menu]="isMenuOpen(rowIndex) && header.cellType === \'actions\'"\n                (dblclick)="onCellDblClick(rowIndex, header.key || \'\', header)"\n              >\n                @if (isEditing(rowIndex, header.key || \'\')) {\n                  <input\n                    #editInput\n                    type="text"\n                    class="cell-edit-input"\n                    [value]="row[header.key || \'\']"\n                    (blur)="onCellEditComplete(row, header.key || \'\', editInput.value, rowIndex)"\n                    (keydown.enter)="onCellEditComplete(row, header.key || \'\', editInput.value, rowIndex)"\n                    (keydown.escape)="onCellEditCancel()"\n                  />\n                } @else {\n                  <ng-container\n                    [ngTemplateOutlet]="getCellTemplate(header)"\n                    [ngTemplateOutletContext]="{\n                      $implicit: row,\n                      row: row,\n                      key: header.key,\n                      header: header,\n                      rowIndex: rowIndex\n                    }"\n                  />\n                }\n              </td>\n            }\n          </tr>\n        }\n      }\n    </tbody>\n  </table>\n</div>\n\n\x3c!-- ==================== PAGINADOR ==================== --\x3e\n@if (paginator()) {\n  <dcx-ng-table-paginator\n    [length]="sortedRows().length"\n    [pageIndex]="pageIndex()"\n    [pageSize]="pageSize()"\n    [pageSizeOptions]="rowsPerPageOptions()"\n    (pageChange)="goToPage($event)"\n    (rowsPerPageChange)="onRowsPerPageChange($event)"\n  />\n}\n\n\x3c!-- ==================== DEFAULT TEMPLATES ==================== --\x3e\n<ng-template #defaultHeaderTpl let-header>\n  <strong>{{ header.name }}</strong>\n  @if (header.sortable) {\n    <span class="sort-indicator" aria-hidden="true">\n      <dcx-ng-icon [name]="getSortIcon(header)" size="s" />\n    </span>\n  }\n</ng-template>\n\n<ng-template #defaultCellTpl let-row let-key="key" let-header="header">\n  {{ header.renderFn ? header.renderFn(row, key) : row?.[key] }}\n</ng-template>\n\n<ng-template #builtInDateTpl let-row let-key="key" let-header="header">\n    {{ row?.[key] | date: ((header.cellTypeConfig?.dateFormat) || \'dd/MM/yyyy HH:mm\') }}\n</ng-template>\n\n<ng-template\n  #builtInActionsTpl\n  let-row\n  let-header="header"\n  let-rowIndex="rowIndex"\n>\n  @if (header.cellTypeConfig) {\n    @let config = header.cellTypeConfig;\n    @if (config.mode === \'inline\') {\n      <div class="actions-inline">\n        @for (action of config.items; track action.id) {\n          @if (!action.hidden || !action.hidden(row)) {\n            <button\n              type="button"\n              class="action-btn"\n              [title]="action.label"\n              [attr.aria-label]="action.label"\n              [disabled]="isActionDisabled(action, row)"\n              (click)="onActionClick(action.id, row, rowIndex)"\n            >\n              <dcx-ng-icon [name]="action.icon" size="s" />\n            </button>\n          }\n        }\n      </div>\n    } @else {\n      <div class="actions-menu">\n        <button\n          type="button"\n          class="action-menu-btn"\n          [title]="\'Acciones\'"\n          [attr.aria-label]="\'Menú de acciones\'"\n          [attr.aria-expanded]="isMenuOpen(rowIndex)"\n          [attr.aria-haspopup]="true"\n          (click)="toggleActionsMenu(rowIndex, $event)"\n        >\n          <dcx-ng-icon [name]="getMenuIcon(config.menuIcon)" size="m" />\n        </button>\n\n        @if (isMenuOpen(rowIndex)) {\n          <div\n            class="actions-dropdown"\n            role="menu"\n            tabindex="0"\n            (click)="$event.stopPropagation()"\n          >\n            @for (action of config.items; track action.id) {\n              @if (!action.hidden || !action.hidden(row)) {\n                <button\n                  type="button"\n                  class="action-menu-item"\n                  [class.action-danger]="action.variant === \'danger\'"\n                  [disabled]="isActionDisabled(action, row)"\n                  (click)="onActionClick(action.id, row, rowIndex)"\n                >\n                  <dcx-ng-icon [name]="action.icon" size="s" />\n                  <span>{{ action.label }}</span>\n                </button>\n              }\n            }\n          </div>\n        }\n      </div>\n    }\n  }\n</ng-template>\n\n<ng-template #defaultEmptyTpl>No hay datos</ng-template>\n',changeDetection:debug_node.Ngq.OnPush,styles:[dcx_ng_full_table_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],DcxNgFullTableComponent);const ActionsData={sortChange:(0,test_dist.fn)(),rowsPerPageChange:(0,test_dist.fn)(),pageChange:(0,test_dist.fn)(),cellEdit:(0,test_dist.fn)(),rowAction:(0,test_dist.fn)()},BASE_HEADERS=USER_HEADERS_FULL.map(h=>"age"===h.key?{...h,template:"age"}:"country"===h.key?{...h,headerTemplate:"countryHeader"}:h),HEADERS_MENU=[...BASE_HEADERS,...USER_HEADERS_WITH_MENU.filter(h=>"actions"===h.key)],HEADERS_INLINE=[...BASE_HEADERS,...USER_HEADERS_WITH_INLINE.filter(h=>"actions"===h.key)],ROWS=function generateUserRows(count){const names=["Ana","Luis","Marta","Pedro","Lucía","Javier","Elena","Carlos","María","Diego"],countries=["España","México","Argentina","Chile","Perú","Colombia","Bolivia","Uruguay","Paraguay","Ecuador"];return Array.from({length:count},(_,i)=>({id:i+1,name:names[i%names.length],age:22+7*i%40,country:countries[i%countries.length],createdAt:new Date(2025,2*i%12,10+i%20,10,15)}))}(40),ClassBased_stories={title:"DCXLIBRARY/Table Full/Class based",component:DcxNgFullTableComponent,decorators:[(0,dist.Iz)({imports:[DcxNgFullTableTemplateDirective]})],tags:["autodocs"],parameters:{controls:{expanded:!0},docs:{description:{component:""}}},argTypes:{headers:{control:!1,description:"Definición de las columnas de la tabla.",table:{category:"Data",type:{summary:"readonly DcxHeaderData[]"},defaultValue:{summary:"[]"}}},rows:{control:!1,description:"Filas a renderizar en la tabla.",table:{category:"Data",type:{summary:"readonly TableRow[]"},defaultValue:{summary:"[]"}}},showGrid:{control:"boolean",description:"Muestra bordes de cuadrícula en celdas y cabeceras.",table:{category:"Appearance",type:{summary:"boolean"},defaultValue:{summary:"false"}}},showStripped:{control:"boolean",description:"Activa las filas zebra (stripeadas).",table:{category:"Appearance",type:{summary:"boolean"},defaultValue:{summary:"true"}}},scroll:{control:"boolean",description:"Si es true, la tabla se hace scrollable dentro de un contenedor con altura fija.",table:{category:"Appearance",type:{summary:"boolean"},defaultValue:{summary:"true"}}},scrollHeight:{control:"text",description:"Altura máxima del área scrollable cuando scroll = true.",table:{category:"Appearance",type:{summary:"string"},defaultValue:{summary:"'320px'"}}},paginator:{control:"boolean",description:"Habilita el paginador al pie de la tabla.",table:{category:"Pagination",type:{summary:"boolean"},defaultValue:{summary:"true"}}},rowsPerPage:{control:"number",description:"Número de filas por página.",table:{category:"Pagination",type:{summary:"number"},defaultValue:{summary:"10"}}},rowsPerPageOptions:{control:{type:"object"},description:"Lista de opciones disponibles en el selector de filas/página.",table:{category:"Pagination",type:{summary:"readonly number[]"},defaultValue:{summary:"[10, 20, 50]"}}},showRowIndex:{control:"boolean",description:"Muestra la columna con el índice de fila (1,2,3...).",table:{category:"Row index",type:{summary:"boolean"},defaultValue:{summary:"true"}}},rowIndexLabel:{control:"text",description:"Texto de la cabecera de la columna de índice.",table:{category:"Row index",type:{summary:"string"},defaultValue:{summary:"'#'"}}},frozenLeftSeparator:{control:"boolean",description:"Dibuja un separador visual a la derecha del último grupo de columnas frozen a la izquierda.",table:{category:"Frozen columns",type:{summary:"boolean"},defaultValue:{summary:"true"}}},frozenRightSeparator:{control:"boolean",description:"Dibuja un separador visual a la izquierda del grupo de columnas frozen a la derecha.",table:{category:"Frozen columns",type:{summary:"boolean"},defaultValue:{summary:"true"}}},sortChange:{action:"sortChange",description:"Se emite cuando cambia el orden de una columna. Valor: { key, dir }.",table:{category:"Events"}},rowsPerPageChange:{action:"rowsPerPageChange",description:"Se emite cuando el usuario cambia el número de filas por página.",table:{category:"Events"}},pageChange:{action:"pageChange",description:"Se emite al cambiar de página.",table:{category:"Events"}},cellEdit:{action:"cellEdit",description:"Se emite al confirmar la edición de una celda. Incluye fila, clave, valor antiguo y nuevo.",table:{category:"Events"}},rowAction:{action:"rowAction",description:"Se emite cuando se dispara una acción de la columna de acciones (inline o menú).",table:{category:"Events"}}},args:{showGrid:!1,showStripped:!0,scroll:!0,scrollHeight:"320px",paginator:!0,rowsPerPage:10,rowsPerPageOptions:[10,20,50],showRowIndex:!0,rowIndexLabel:"#",frozenLeftSeparator:!0,frozenRightSeparator:!0}},GridScroll={args:{headers:HEADERS_MENU,rows:ROWS},render:(args,{updateArgs})=>({props:{...args,sortChange(e){ActionsData.sortChange(e)},rowsPerPageChange(size){ActionsData.rowsPerPageChange(size),this.rowsPerPage=size,updateArgs({rowsPerPage:size})},pageChange(page){ActionsData.pageChange(page)},cellEdit(e){ActionsData.cellEdit(e)},rowAction(e){ActionsData.rowAction(e)}},template:'\n      <dcx-ng-full-table\n        [headers]="headers"\n        [rows]="rows"\n        [showGrid]="showGrid"\n        [showStripped]="showStripped"\n        [scroll]="scroll"\n        [scrollHeight]="scrollHeight"\n        [paginator]="paginator"\n        [rowsPerPage]="rowsPerPage"\n        [rowsPerPageOptions]="rowsPerPageOptions"\n        [showRowIndex]="showRowIndex"\n        [rowIndexLabel]="rowIndexLabel"\n        [frozenLeftSeparator]="frozenLeftSeparator"\n        [frozenRightSeparator]="frozenRightSeparator"\n        (sortChange)="sortChange($event)"\n        (rowsPerPageChange)="rowsPerPageChange($event)"\n        (pageChange)="pageChange($event)"\n        (cellEdit)="cellEdit($event)"\n        (rowAction)="rowAction($event)"\n      >\n        \x3c!-- CELDA PERSONALIZADA: EDAD --\x3e\n        <ng-template dcxNgTableTemplateRefactor="age" let-row let-key="key">\n          <span\n            [style.font-weight]="row[key] >= 40 ? \'bold\' : \'normal\'"\n            [style.color]="row[key] >= 40 ? \'crimson\' : \'inherit\'"\n          >\n            {{ row[key] }} años\n          </span>\n        </ng-template>\n\n        \x3c!-- CABECERA PERSONALIZADA DE PAÍS --\x3e\n        <ng-template dcxNgTableTemplateRefactor="countryHeader" let-header>\n          🌍 {{ header.name }}\n        </ng-template>\n\n        \x3c!-- EMPTY STATE --\x3e\n        <ng-template dcxNgTableTemplateRefactor="empty" let-headers="headers">\n          <em>No hay registros ({{ headers.length }} columnas)</em>\n        </ng-template>\n      </dcx-ng-full-table>\n    '})},InlineActions={args:{headers:HEADERS_INLINE,rows:ROWS},render:(args,{updateArgs})=>({props:{...args,sortChange(e){ActionsData.sortChange(e)},rowsPerPageChange(size){ActionsData.rowsPerPageChange(size),this.rowsPerPage=size,updateArgs({rowsPerPage:size})},pageChange(page){ActionsData.pageChange(page)},cellEdit(e){ActionsData.cellEdit(e)},rowAction(e){ActionsData.rowAction(e)}},template:'\n      <dcx-ng-full-table\n        [headers]="headers"\n        [rows]="rows"\n        [showGrid]="showGrid"\n        [showStripped]="showStripped"\n        [scroll]="scroll"\n        [scrollHeight]="scrollHeight"\n        [paginator]="paginator"\n        [rowsPerPage]="rowsPerPage"\n        [rowsPerPageOptions]="rowsPerPageOptions"\n        [showRowIndex]="showRowIndex"\n        [rowIndexLabel]="rowIndexLabel"\n        [frozenLeftSeparator]="frozenLeftSeparator"\n        [frozenRightSeparator]="frozenRightSeparator"\n        (sortChange)="sortChange($event)"\n        (rowsPerPageChange)="rowsPerPageChange($event)"\n        (pageChange)="pageChange($event)"\n        (cellEdit)="cellEdit($event)"\n        (rowAction)="rowAction($event)"\n      >\n        \x3c!-- Reutilizamos los mismos templates que en GridScroll --\x3e\n\n        <ng-template dcxNgTableTemplateRefactor="age" let-row let-key="key">\n          <span\n            [style.font-weight]="row[key] >= 40 ? \'bold\' : \'normal\'"\n            [style.color]="row[key] >= 40 ? \'crimson\' : \'inherit\'"\n          >\n            {{ row[key] }} años\n          </span>\n        </ng-template>\n\n        <ng-template dcxNgTableTemplateRefactor="countryHeader" let-header>\n          🌍 {{ header.name }}\n        </ng-template>\n\n        <ng-template dcxNgTableTemplateRefactor="empty" let-headers="headers">\n          <em>No hay registros ({{ headers.length }} columnas)</em>\n        </ng-template>\n      </dcx-ng-full-table>\n    '})};GridScroll.play=function(){var _ref=(0,asyncToGenerator.A)(function*({canvasElement}){const canvas=(0,test_dist.ux)(canvasElement),ageHeader=yield canvas.findByRole("columnheader",{name:/Edad/i});yield test_dist.Q4.click(ageHeader),yield(0,test_dist.E3)(ageHeader).toHaveAttribute("aria-sort","ascending"),yield test_dist.Q4.click(ageHeader),yield(0,test_dist.E3)(ageHeader).toHaveAttribute("aria-sort","descending");const nameFilter=yield canvas.findByPlaceholderText(/Filtrar Nombre/i);yield test_dist.Q4.type(nameFilter,"Ana");const cell=yield canvas.findByText(/Ana/i);yield(0,test_dist.E3)(cell).toBeDefined()});return function(_x){return _ref.apply(this,arguments)}}();const __namedExportsOrder=["GridScroll","InlineActions"];GridScroll.parameters={...GridScroll.parameters,docs:{...GridScroll.parameters?.docs,source:{originalSource:'{\n  args: {\n    headers: HEADERS_MENU,\n    rows: ROWS\n  },\n  render: (args, {\n    updateArgs\n  }) => ({\n    props: {\n      ...args,\n      // Handlers conectados con Storybook actions y con la tabla\n      sortChange(e: unknown) {\n        ActionsData.sortChange(e);\n      },\n      rowsPerPageChange(this: any, size: number) {\n        ActionsData.rowsPerPageChange(size);\n        this.rowsPerPage = size;\n        updateArgs({\n          rowsPerPage: size\n        });\n      },\n      pageChange(page: number) {\n        ActionsData.pageChange(page);\n      },\n      cellEdit(e: unknown) {\n        ActionsData.cellEdit(e);\n      },\n      rowAction(e: unknown) {\n        ActionsData.rowAction(e);\n        // aquí podrías hacer console.log o lógica adicional\n      }\n    },\n    template: `\n      <dcx-ng-full-table\n        [headers]="headers"\n        [rows]="rows"\n        [showGrid]="showGrid"\n        [showStripped]="showStripped"\n        [scroll]="scroll"\n        [scrollHeight]="scrollHeight"\n        [paginator]="paginator"\n        [rowsPerPage]="rowsPerPage"\n        [rowsPerPageOptions]="rowsPerPageOptions"\n        [showRowIndex]="showRowIndex"\n        [rowIndexLabel]="rowIndexLabel"\n        [frozenLeftSeparator]="frozenLeftSeparator"\n        [frozenRightSeparator]="frozenRightSeparator"\n        (sortChange)="sortChange($event)"\n        (rowsPerPageChange)="rowsPerPageChange($event)"\n        (pageChange)="pageChange($event)"\n        (cellEdit)="cellEdit($event)"\n        (rowAction)="rowAction($event)"\n      >\n        \x3c!-- CELDA PERSONALIZADA: EDAD --\x3e\n        <ng-template dcxNgTableTemplateRefactor="age" let-row let-key="key">\n          <span\n            [style.font-weight]="row[key] >= 40 ? \'bold\' : \'normal\'"\n            [style.color]="row[key] >= 40 ? \'crimson\' : \'inherit\'"\n          >\n            {{ row[key] }} años\n          </span>\n        </ng-template>\n\n        \x3c!-- CABECERA PERSONALIZADA DE PAÍS --\x3e\n        <ng-template dcxNgTableTemplateRefactor="countryHeader" let-header>\n          🌍 {{ header.name }}\n        </ng-template>\n\n        \x3c!-- EMPTY STATE --\x3e\n        <ng-template dcxNgTableTemplateRefactor="empty" let-headers="headers">\n          <em>No hay registros ({{ headers.length }} columnas)</em>\n        </ng-template>\n      </dcx-ng-full-table>\n    `\n  })\n}',...GridScroll.parameters?.docs?.source}}},InlineActions.parameters={...InlineActions.parameters,docs:{...InlineActions.parameters?.docs,source:{originalSource:'{\n  args: {\n    headers: HEADERS_INLINE,\n    rows: ROWS\n  },\n  render: (args, {\n    updateArgs\n  }) => ({\n    props: {\n      ...args,\n      sortChange(e: unknown) {\n        ActionsData.sortChange(e);\n      },\n      rowsPerPageChange(this: any, size: number) {\n        ActionsData.rowsPerPageChange(size);\n        this.rowsPerPage = size;\n        updateArgs({\n          rowsPerPage: size\n        });\n      },\n      pageChange(page: number) {\n        ActionsData.pageChange(page);\n      },\n      cellEdit(e: unknown) {\n        ActionsData.cellEdit(e);\n      },\n      rowAction(e: unknown) {\n        ActionsData.rowAction(e);\n      }\n    },\n    template: `\n      <dcx-ng-full-table\n        [headers]="headers"\n        [rows]="rows"\n        [showGrid]="showGrid"\n        [showStripped]="showStripped"\n        [scroll]="scroll"\n        [scrollHeight]="scrollHeight"\n        [paginator]="paginator"\n        [rowsPerPage]="rowsPerPage"\n        [rowsPerPageOptions]="rowsPerPageOptions"\n        [showRowIndex]="showRowIndex"\n        [rowIndexLabel]="rowIndexLabel"\n        [frozenLeftSeparator]="frozenLeftSeparator"\n        [frozenRightSeparator]="frozenRightSeparator"\n        (sortChange)="sortChange($event)"\n        (rowsPerPageChange)="rowsPerPageChange($event)"\n        (pageChange)="pageChange($event)"\n        (cellEdit)="cellEdit($event)"\n        (rowAction)="rowAction($event)"\n      >\n        \x3c!-- Reutilizamos los mismos templates que en GridScroll --\x3e\n\n        <ng-template dcxNgTableTemplateRefactor="age" let-row let-key="key">\n          <span\n            [style.font-weight]="row[key] >= 40 ? \'bold\' : \'normal\'"\n            [style.color]="row[key] >= 40 ? \'crimson\' : \'inherit\'"\n          >\n            {{ row[key] }} años\n          </span>\n        </ng-template>\n\n        <ng-template dcxNgTableTemplateRefactor="countryHeader" let-header>\n          🌍 {{ header.name }}\n        </ng-template>\n\n        <ng-template dcxNgTableTemplateRefactor="empty" let-headers="headers">\n          <em>No hay registros ({{ headers.length }} columnas)</em>\n        </ng-template>\n      </dcx-ng-full-table>\n    `\n  })\n}',...InlineActions.parameters?.docs?.source}}}},"./node_modules/@storybook/angular/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ap:()=>componentWrapperDecorator,Iz:()=>moduleMetadata});__webpack_require__("./node_modules/@storybook/angular/dist/_browser-chunks/chunk-XA6C6Y3S.js"),__webpack_require__("./node_modules/@storybook/angular/dist/_browser-chunks/chunk-CT6JF2ND.js");var chunk_34GOABUT=__webpack_require__("./node_modules/@storybook/angular/dist/_browser-chunks/chunk-34GOABUT.js");__webpack_require__("storybook/preview-api");var moduleMetadata=metadata=>storyFn=>{let story=storyFn(),storyMetadata=story.moduleMetadata||{};return metadata=metadata||{},{...story,moduleMetadata:{declarations:[...metadata.declarations||[],...storyMetadata.declarations||[]],entryComponents:[...metadata.entryComponents||[],...storyMetadata.entryComponents||[]],imports:[...metadata.imports||[],...storyMetadata.imports||[]],schemas:[...metadata.schemas||[],...storyMetadata.schemas||[]],providers:[...metadata.providers||[],...storyMetadata.providers||[]]}}};var componentWrapperDecorator=(element,props)=>(storyFn,storyContext)=>{let story=storyFn(),currentProps="function"==typeof props?props(storyContext):props,template=(0,chunk_34GOABUT.Wy)(element)?(0,chunk_34GOABUT.UP)(element,currentProps??{},story.template):element(story.template);return{...story,template,...currentProps||story.props?{props:{...currentProps,...story.props}}:{}}}},"./node_modules/@storybook/instrumenter/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/instrumenter/dist sync recursive",module.exports=webpackEmptyContext},"./node_modules/@storybook/test/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/test/dist sync recursive",module.exports=webpackEmptyContext}}]);