<div class="page-container">
  <h1>Context Menu</h1>
  <p class="page-description">
    El componente Context Menu permite mostrar un menú contextual con opciones personalizadas.
  </p>

  <section>
    <h2 class="example-title">Ejemplo 1 - Menú Básico</h2>
    <p>Menú contextual con opciones básicas: Edit, Delete, Share.</p>
    
    <div 
      class="demo-area"
      (contextmenu)="onBasicContextMenu($event)">
      <p class="demo-hint">
        <strong>Haz clic derecho</strong> en esta área para abrir el menú
      </p>
      <dcx-ng-context-menu
        [items]="basicMenuItems"
        [visible]="basicMenuVisible()"
        [position]="basicMenuPosition()"
        (closed)="basicMenuVisible.set(false)">
      </dcx-ng-context-menu>
    </div>
  </section>

  <hr />

  <section>
    <h2 class="example-title">Ejemplo 2 - Item Único</h2>
    <p>Menú contextual con un único elemento.</p>
    
    <div 
      class="demo-area"
      (contextmenu)="onSingleContextMenu($event)">
      <p class="demo-hint">
        <strong>Haz clic derecho</strong> aquí para ver menú con un solo item
      </p>
      <dcx-ng-context-menu
        [items]="singleMenuItems"
        [visible]="singleMenuVisible()"
        [position]="singleMenuPosition()"
        (closed)="singleMenuVisible.set(false)">
      </dcx-ng-context-menu>
    </div>
  </section>

  <hr />

  <section>
    <h2 class="example-title">Ejemplo 3 - Múltiples Items</h2>
    <p>Menú contextual con varias opciones.</p>
    
    <div 
      class="demo-area demo-area-tall"
      (contextmenu)="onManyContextMenu($event)">
      <p class="demo-hint">
        <strong>Haz clic derecho</strong> aquí para ver menú con múltiples opciones
      </p>
      <dcx-ng-context-menu
        [items]="manyMenuItems"
        [visible]="manyMenuVisible()"
        [position]="manyMenuPosition()"
        (closed)="manyMenuVisible.set(false)">
      </dcx-ng-context-menu>
    </div>
  </section>

  <hr />

  <section>
    <h2 class="example-title">Ejemplo 4 - Con Iconos</h2>
    <p>Menú contextual con iconos en cada opción.</p>
    
    <div 
      class="demo-area"
      (contextmenu)="onIconsContextMenu($event)">
      <p class="demo-hint">
        <strong>Haz clic derecho</strong> aquí para ver menú con iconos
      </p>
      <dcx-ng-context-menu
        [items]="iconsMenuItems"
        [visible]="iconsMenuVisible()"
        [position]="iconsMenuPosition()"
        (closed)="iconsMenuVisible.set(false)">
      </dcx-ng-context-menu>
    </div>
  </section>

  <hr />

  <section>
    <h2 class="example-title">Ejemplo 5 - Menú Avanzado</h2>
    <p>Menú con iconos, separadores y opciones deshabilitadas.</p>
    
    <div 
      class="demo-area demo-area-tall"
      (contextmenu)="onAdvancedContextMenu($event)">
      <p class="demo-hint">
        <strong>Haz clic derecho</strong> aquí para ver menú avanzado
      </p>
      <dcx-ng-context-menu
        [items]="advancedMenuItems"
        [visible]="advancedMenuVisible()"
        [position]="advancedMenuPosition()"
        (closed)="advancedMenuVisible.set(false)">
      </dcx-ng-context-menu>
    </div>
  </section>

  <hr />

  <section>
    <h2 class="example-title">Ejemplo 6 - Context Menu en Tabla</h2>
    <p>Menú contextual integrado en una tabla con acciones por fila.</p>
    
    <div class="table-container">
      <p class="demo-hint">
        <strong>Haz click en el botón (⋮)</strong> de la columna Acciones
      </p>
      
      <dcx-ng-full-table
        [headers]="tableHeaders"
        [rows]="tableData"
        [showGrid]="true"
        [showStripped]="true"
        [scroll]="false"
        [paginator]="false"
        [showRowIndex]="true"
        [rowIndexLabel]="'#'">
        
        <ng-template dcxNgFullTableTemplate="actions" let-row let-key="key" let-rowIndex="rowIndex">
          <div class="action-cell-{{rowIndex}}" style="position: relative; display: inline-block;">
            <dcx-ng-button
              (buttonClick)="onButtonClick($event, row, rowIndex)"
              [label]="''"
              [ariaLabel]="'Open menu for ' + row.name"
              variant="icon"
              size="s"
              iconStart="three-dots-vertical">
            </dcx-ng-button>
            @if (activeMenuRow() === rowIndex) {
              <dcx-ng-context-menu
                [items]="getRowActions(row)"
                [visible]="true"
                [position]="tableMenuPosition()"
                (closed)="onTableMenuClosed()">
              </dcx-ng-context-menu>
            }
          </div>
        </ng-template>
        
      </dcx-ng-full-table>
    </div>
  </section>
</div>
