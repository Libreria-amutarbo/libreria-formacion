@if (isGroup()) {
<div class="dcx-checkbox-group">
  @if (groupLabel()) {
  <label class="dcx-checkbox-group__label">{{ groupLabel() }}</label>
  }

  <div class="dcx-checkbox-group__options">
    @for (option of options(); track option.value) {
    <label class="dcx-checkbox-label" [class.disabled]="disabled() || option.disabled">
      <button type="button" [class]="containerClasses()" [style.--color]="customColorStyle()"
        [class.checked]="isChecked(option.value)" [disabled]="disabled() || option.disabled"
        (click)="onGroupCheckboxChange(option.value, !isChecked(option.value))">
        <span class="dcx-checkbox-box">
          @if (isChecked(option.value)) {
          <span class="dcx-checkbox-check"></span>
          }
        </span>
      </button>
      <span class="dcx-checkbox-text">{{ option.label }}</span>
    </label>
    }
  </div>
</div>
} @else {
<label class="dcx-checkbox-label" [class.disabled]="disabled()">
  <button type="button" [class]="containerClasses()" [style.--color]="customColorStyle()" (click)="onToggle()">
    <span class="dcx-checkbox-box">
      @if (isCheckedComputed()) {
      <span class="dcx-checkbox-check"></span>
      }
    </span>
  </button>

  <span class="dcx-checkbox-text">{{ label() }}</span>
</label>

@if (errorMessage() && !isCheckedComputed()) {
<div class="dcx-checkbox-error">
  {{ errorMessage() }}
</div>
}
}