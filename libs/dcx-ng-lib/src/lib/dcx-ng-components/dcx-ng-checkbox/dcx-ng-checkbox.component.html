@if (isGroup()) {
  <div class="dcx-checkbox-group">
    @if (groupLabel()) {
      <label class="dcx-checkbox-group__label">{{ groupLabel() }}</label>
    }

    <div class="dcx-checkbox-group__options">
      @for (option of options(); track option.value) {
        <label
          class="dcx-checkbox-label"
          [class.disabled]="isOptionDisabled(option)"
          [class.label-left]="labelPosition() === DcxPosition.LEFT"
        >
          @if (labelPosition() === DcxPosition.LEFT) {
            <span class="dcx-checkbox-text">{{ option.label }}</span>
          }
          <dcx-ng-button
            iconName="check2"
            [iconSize]="size()"
            iconColor="white"
            sizeValue="xs"
            [size]="size()"
            [class]="containerClasses()"
            [disabled]="isOptionDisabled(option)"
            (click)="onGroupCheckboxChange(option.value, !isChecked(option.value))"
            variant="primary">
            <span class="dcx-checkbox-box">
              @if (isChecked(option.value)) {
                <span class="dcx-checkbox-check"></span>
              }
            </span>
          </dcx-ng-button>
          @if (labelPosition() === DcxPosition.RIGHT) {
            <span class="dcx-checkbox-text">{{ option.label }}</span>
          }
        </label>
      }
    </div>
  </div>
} @else {
  <div class="dcx-checkbox-wrapper">
    <label
      class="dcx-checkbox-label"
      [class.disabled]="disabled()"
      [class.label-left]="labelPosition() === DcxPosition.LEFT"
    >
      @if (labelPosition() === DcxPosition.LEFT) {
        <span class="dcx-checkbox-text">{{ label() }}</span>
      }
      <dcx-ng-button
        [icon]="true"
        iconName="check2"
        iconSize="xs"
        iconColor="white"
        sizeValue="xs"
        [class]="containerClasses()"
        (click)="onToggle()"  
        variant="primary">
        <span class="dcx-checkbox-box">
          @if (isCheckedComputed()) {
            <span class="dcx-checkbox-check"></span>
          }
        </span>
      </dcx-ng-button>

      @if (labelPosition() === DcxPosition.RIGHT) {
        <span class="dcx-checkbox-text">{{ label() }}</span>
      }
    </label>

    @if (errorMessage() && !isCheckedComputed()) {
      <div
        class="dcx-checkbox-error"
        [class.error-label-left]="labelPosition() === DcxPosition.LEFT"
      >
        {{ errorMessage() }}
      </div>
    }
  </div>
}
