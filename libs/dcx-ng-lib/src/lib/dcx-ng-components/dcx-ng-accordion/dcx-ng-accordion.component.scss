@use '../../../scss/main' as *;

.accordion {
  font-family: var(--font-family-primary);
  border: 1px solid var(--border-terciary);
  border-radius: 4px;
  overflow: hidden;
  background-color: var(--background-default);

  .accordion-item {
    border-bottom: 1px solid var(--border-terciary);

    &:last-child {
      border-bottom: none;
    }

    &.disabled {
      .accordion-header {
        cursor: not-allowed;
        background-color: var(--background-disabled);
        color: var(--text-disabled);
      }
    }

    .accordion-header {
      @include flex-between;
      @include padding(m);
      background-color: var(--background-default);
      border: none;
      cursor: pointer;
      width: 100%;
      text-align: left;
      font-size: var(--font-size-body);
      font-weight: var(--font-weight-medium);
      color: var(--text-title);
      transition: all 0.2s ease-in-out;

      &:hover:not(:disabled) {
        background-color: var(--background-hover);
      }

      &:focus {
        outline: 2px solid var(--content-primary);
        outline-offset: -2px;
      }

      &:disabled {
        cursor: not-allowed;
      }

      .accordion-title {
        flex: 1;
        font-weight: var(--font-weight-medium);
      }

      .accordion-icon {
        @include flex-center;
        margin-left: 12px;
        flex-shrink: 0;
        transition: transform 0.3s ease-in-out;
        transform: rotate(0deg);

        &.expanded {
          transform: rotate(180deg);
        }

        svg {
          width: 20px;
          height: 20px;
          color: var(--text-body);
        }
      }
    }

    .accordion-content-wrapper {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition:
        max-height 0.3s ease-in-out,
        opacity 0.3s ease-in-out;

      &.expanded {
        max-height: 1000px;
        opacity: 1;
      }

      .accordion-content {
        @include padding(m);
        background-color: var(--background-default);
        color: var(--text-body);
        line-height: var(--line-height-normal);
        font-size: var(--font-size-body-small);
      }
    }
  }
}
