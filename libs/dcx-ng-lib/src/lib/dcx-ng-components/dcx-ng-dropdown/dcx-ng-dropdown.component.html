<div class="dcx-dropdown" [class.dcx-disabled]="disabled">
  <dcx-ng-button
    type="button"
    class="dcx-trigger"
    variant="icon"
    size="m"
    iconName="expand_more"
    iconPosition="end"
    [disabled]="disabled"
    [label]="displayLabel()"
    [attr.aria-expanded]="_open()"
    (buttonClick)="toggle()"
  ></dcx-ng-button>

  @if (_open()) {
    <div class="dcx-panel">
      
<ul class="dcx-list" role="listbox">
  @for (item of dropdownOptions; track item.key) {
    <li class="dcx-item" [class.selected]="isSelected(item)">
      <button
        type="button"
        (click)="select(item)"
        [attr.aria-selected]="isSelected(item)"
        role="option"
      >
        <span class="dcx-item__label">{{ valueToString(item.value) }}</span>
        @if (isSelected(item)) {
          <span class="dcx-item__check">âœ“</span>
        }
      </button>
    </li>
  }
  @if (!dropdownOptions.length) {
    <li class="dcx-empty">(Sin opciones)</li>
  }
</ul>

    </div>
  }
</div>
