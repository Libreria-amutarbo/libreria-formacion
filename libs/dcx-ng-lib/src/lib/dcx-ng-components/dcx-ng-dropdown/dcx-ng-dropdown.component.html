<div class="dcx-dropdown" [class.dcx-disabled]="disabled">
  <dcx-ng-button
    type="button"
    class="dcx-trigger"
    [disabled]="disabled"
    [variant]="'icon'"
    [size]="'medium'"
    [label]="displayLabel()"
    [iconName]="'expand_more'"
    iconPosition="end"
    [attr.aria-expanded]="_open()"
    (buttonClick)="toggle()"
  ></dcx-ng-button>

  @if (_open()) {
    <div class="dcx-panel">
      <ul class="dcx-list">
        @for (item of dropdownOptions; track item.key) {
          <li
            class="dcx-item"
            (click)="select(item)"
            [class.selected]="isSelected(item)"
          >
            <span class="dcx-item__label">{{ valueToString(item.value) }}</span>
            @if (isSelected(item)) {
              <span class="dcx-item__check">âœ“</span>
            }
          </li>
        }

        @if (!dropdownOptions.length) {
          <li class="dcx-empty">(Sin opciones)</li>
        }
      </ul>
    </div>
  }
</div>
