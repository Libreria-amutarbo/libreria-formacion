import {
  Meta,
  Canvas,
  Story,
  ArgsTable,
  Source,
  Subtitle,
  Title,
  Description,
  Heading,
  Controls,
} from '@storybook/blocks';
import * as DialogClassBasedStories from './ClassBased.stories';

<Title>DCXLibrary/Dialog/Documentation</Title>

<Description>
DcxNgDialog es un diálogo modal:

- Proporciona un `dialogId` al componente.
- Usa `DialogService.open(id, data?)` para abrir y `DialogService.close(id)` para cerrar.
- El contenido se pasa por `ng-template` (`#dialogBody`, `#dialogFooter`).

⚠️ Nota: En esta página, el **Host de la story** incluye un botón externo que llama al servicio.
El HTML inyectado con `[innerHTML]` no compila eventos Angular; para interacción usa componentes/botones reales o acciones externas por servicio.

</Description>

<Heading>Demostración</Heading>

<Meta of={DialogStories.default} />

<Canvas>
  <Story of={DialogStories.ServiceBased} />
</Canvas>

<Controls of={DialogStories.ServiceBased} />

<Heading>Parámetros (Args)</Heading>
<ArgsTable of={DialogStories.ServiceBased} />

---

## Uso básico (service-based)

```html
<dcx-ng-dialog
  [dialogId]="'user-details'"
  [title]="'Detalles de usuario'"
  [position]="'center'"
  [closeOnBackdrop]="true"
  (closeDialog)="onDialogClosed()"
>
  <ng-template #dialogBody>
    <p>Contenido del diálogo…</p>
  </ng-template>

  <ng-template #dialogFooter>
    <dcx-ng-button variant="primary" (buttonClick)="closeUserDialog()">
      Cerrar
    </dcx-ng-button>
  </ng-template>
</dcx-ng-dialog>

<button type="button" (click)="openUserDialog()">Abrir diálogo</button>
```
