{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./dcx-ng-dropdown.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./dcx-ng-dropdown.component.scss?ngResource\";\nimport { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostListener, Input, Output, computed, signal } from '@angular/core';\nimport { DcxNgButtonComponent } from '../dcx-ng-button/dcx-ng-button.component';\nlet DcxNgDropdownComponent = class DcxNgDropdownComponent {\n  host;\n  dropdownOptions = [];\n  placeholder = '';\n  disabled = false;\n  set selectedKey(key) {\n    this._selectedKey.set(key ?? null);\n  }\n  selectedKeyChange = new EventEmitter();\n  onDocumentClick(ev) {\n    if (!this._open()) return;\n    const root = this.host.nativeElement;\n    const target = ev.target;\n    if (target && !root.contains(target)) {\n      this._open.set(false);\n    }\n  }\n  get selectedKey() {\n    return this._selectedKey();\n  }\n  _open = signal(false);\n  _selectedKey = signal(null);\n  displayLabel = computed(() => {\n    const key = this._selectedKey();\n    if (!key) return this.placeholder;\n    const opt = this.findByKey(key);\n    return opt ? this.valueToString(opt.value) : this.placeholder;\n  });\n  constructor(host) {\n    this.host = host;\n  }\n  toggle() {\n    if (this.disabled) return;\n    this._open.set(!this._open());\n  }\n  select(item) {\n    if (this.disabled) return;\n    this._selectedKey.set(item.key);\n    this.selectedKeyChange.emit(item.key);\n    this._open.set(false);\n  }\n  findByKey(key) {\n    return this.dropdownOptions.find(o => o.key === key);\n  }\n  isSelected(item) {\n    return this._selectedKey() === item.key;\n  }\n  valueToString(v) {\n    return String(v);\n  }\n  static ctorParameters = () => [{\n    type: ElementRef\n  }];\n  static propDecorators = {\n    dropdownOptions: [{\n      type: Input,\n      args: [{\n        required: true\n      }]\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    disabled: [{\n      type: Input\n    }],\n    selectedKey: [{\n      type: Input\n    }],\n    selectedKeyChange: [{\n      type: Output\n    }],\n    onDocumentClick: [{\n      type: HostListener,\n      args: ['document:click', ['$event']]\n    }]\n  };\n};\nDcxNgDropdownComponent = __decorate([Component({\n  selector: 'dcx-ng-dropdown',\n  standalone: true,\n  imports: [DcxNgButtonComponent],\n  template: __NG_CLI_RESOURCE__0,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [__NG_CLI_RESOURCE__1]\n}), __metadata(\"design:paramtypes\", [ElementRef])], DcxNgDropdownComponent);\nexport { DcxNgDropdownComponent };","map":{"version":3,"names":["__decorate","__metadata","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","ChangeDetectionStrategy","Component","ElementRef","EventEmitter","HostListener","Input","Output","computed","signal","DcxNgButtonComponent","DcxNgDropdownComponent","host","dropdownOptions","placeholder","disabled","selectedKey","key","_selectedKey","set","selectedKeyChange","onDocumentClick","ev","_open","root","nativeElement","target","contains","displayLabel","opt","findByKey","valueToString","value","constructor","toggle","select","item","emit","find","o","isSelected","v","String","ctorParameters","type","propDecorators","args","required","selector","standalone","imports","template","changeDetection","OnPush","styles"],"sources":["C:/Users/lgarci16/Desktop/libreria-formacion/libs/dcx-ng-lib/src/lib/dcx-ng-components/dcx-ng-dropdown/dcx-ng-dropdown.component.ts"],"sourcesContent":["import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./dcx-ng-dropdown.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./dcx-ng-dropdown.component.scss?ngResource\";\nimport { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostListener, Input, Output, computed, signal, } from '@angular/core';\nimport { DcxNgButtonComponent } from '../dcx-ng-button/dcx-ng-button.component';\nlet DcxNgDropdownComponent = class DcxNgDropdownComponent {\n    host;\n    dropdownOptions = [];\n    placeholder = '';\n    disabled = false;\n    set selectedKey(key) {\n        this._selectedKey.set(key ?? null);\n    }\n    selectedKeyChange = new EventEmitter();\n    onDocumentClick(ev) {\n        if (!this._open())\n            return;\n        const root = this.host.nativeElement;\n        const target = ev.target;\n        if (target && !root.contains(target)) {\n            this._open.set(false);\n        }\n    }\n    get selectedKey() {\n        return this._selectedKey();\n    }\n    _open = signal(false);\n    _selectedKey = signal(null);\n    displayLabel = computed(() => {\n        const key = this._selectedKey();\n        if (!key)\n            return this.placeholder;\n        const opt = this.findByKey(key);\n        return opt ? this.valueToString(opt.value) : this.placeholder;\n    });\n    constructor(host) {\n        this.host = host;\n    }\n    toggle() {\n        if (this.disabled)\n            return;\n        this._open.set(!this._open());\n    }\n    select(item) {\n        if (this.disabled)\n            return;\n        this._selectedKey.set(item.key);\n        this.selectedKeyChange.emit(item.key);\n        this._open.set(false);\n    }\n    findByKey(key) {\n        return this.dropdownOptions.find(o => o.key === key);\n    }\n    isSelected(item) {\n        return this._selectedKey() === item.key;\n    }\n    valueToString(v) {\n        return String(v);\n    }\n    static ctorParameters = () => [\n        { type: ElementRef }\n    ];\n    static propDecorators = {\n        dropdownOptions: [{ type: Input, args: [{ required: true },] }],\n        placeholder: [{ type: Input }],\n        disabled: [{ type: Input }],\n        selectedKey: [{ type: Input }],\n        selectedKeyChange: [{ type: Output }],\n        onDocumentClick: [{ type: HostListener, args: ['document:click', ['$event'],] }]\n    };\n};\nDcxNgDropdownComponent = __decorate([\n    Component({\n        selector: 'dcx-ng-dropdown',\n        standalone: true,\n        imports: [DcxNgButtonComponent],\n        template: __NG_CLI_RESOURCE__0,\n        changeDetection: ChangeDetectionStrategy.OnPush,\n        styles: [__NG_CLI_RESOURCE__1]\n    }),\n    __metadata(\"design:paramtypes\", [ElementRef])\n], DcxNgDropdownComponent);\nexport { DcxNgDropdownComponent };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}